<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>practica04</title><meta name="description" content="Documentation for practica04"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os"</script><header class="tsd-page-toolbar">
<div class="tsd-toolbar-contents container">
<div class="table-cell" id="tsd-search" data-base=".">
<div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M15.7824 13.833L12.6666 10.7177C12.5259 10.5771 12.3353 10.499 12.1353 10.499H11.6259C12.4884 9.39596 13.001 8.00859 13.001 6.49937C13.001 2.90909 10.0914 0 6.50048 0C2.90959 0 0 2.90909 0 6.49937C0 10.0896 2.90959 12.9987 6.50048 12.9987C8.00996 12.9987 9.39756 12.4863 10.5008 11.6239V12.1332C10.5008 12.3332 10.5789 12.5238 10.7195 12.6644L13.8354 15.7797C14.1292 16.0734 14.6042 16.0734 14.8948 15.7797L15.7793 14.8954C16.0731 14.6017 16.0731 14.1267 15.7824 13.833ZM6.50048 10.499C4.29094 10.499 2.50018 8.71165 2.50018 6.49937C2.50018 4.29021 4.28781 2.49976 6.50048 2.49976C8.71001 2.49976 10.5008 4.28708 10.5008 6.49937C10.5008 8.70852 8.71314 10.499 6.50048 10.499Z" fill="var(--color-text)"></path></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div>
<div class="field">
<div id="tsd-toolbar-links"></div></div>
<ul class="results">
<li class="state loading">Preparing search index...</li>
<li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">practica04</a></div>
<div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><rect x="1" y="3" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="7" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="11" width="14" height="2" fill="var(--color-text)"></rect></svg></a></div></div></header>
<div class="container container-main">
<div class="col-8 col-content">
<div class="tsd-page-title">
<h2>practica04</h2></div>
<div class="tsd-panel tsd-typography">
<a href="#práctica-4-arrays-tuplas-y-enumerados" id="práctica-4-arrays-tuplas-y-enumerados" style="color: inherit; text-decoration: none;">
  <h1><a href="https://github.com/ULL-ESIT-INF-DSI-2223/ull-esit-inf-dsi-22-23-prct04-arrays-tuples-enums-alu0101036694.git">PRÁCTICA 4. ARRAYS, TUPLAS Y ENUMERADOS</a>.</h1>
</a>

<a href="#carla-oval-torres" id="carla-oval-torres" style="color: inherit; text-decoration: none;">
  <h2>Carla Oval Torres</h2>
</a>

<a href="#índice-" id="índice-" style="color: inherit; text-decoration: none;">
  <h2>Índice <a name="índice"></a></h2>
</a>
<ol>
<li><a href="#introducci%C3%B3n">Introducción</a></li>
<li><a href="#ejercicios-propuestos">Ejercicios propuestos</a><ol>
<li><a href="#ejercicio-1">Ejercicio 1 - El alergólogo</a></li>
<li><a href="#ejercicio-2">Ejercicio 2 - Números complejos</a></li>
<li><a href="#ejercicio-3">Ejercicio 3 - No cabrees a la reina</a></li>
<li><a href="#ejercicio-4">Ejercicio 4 - Reimplementando la función map</a></li>
<li><a href="#ejercicio-5">Ejercicio 5 - Matrices espirales</a></li>
<li><a href="#ejercicio-6">Ejercicio 6 - Compresión de números en rangos</a></li>
<li><a href="#ejercicio-7">Ejercicio 7 - Decodificar resistencias</a></li>
<li><a href="#ejercicio-8">Ejercicio 8 - Palabras encadenadas en un array</a></li>
</ol>
</li>
</ol>

<a href="#introducción-" id="introducción-" style="color: inherit; text-decoration: none;">
  <h2>Introducción <a name="introducción"></a></h2>
</a>
<blockquote>
<p><a href="#%C3%ADndice">Volver al índice</a></p>
</blockquote>
<p>Lleve a cabo todos y cada uno de los ejercicios propuestos a continuación. El código fuente de cada ejercicio debe estar alojado en un fichero 
independiente con nombre ejercicio-n.ts. Si utiliza estructura básica de proyecto que hemos visto en clase, por favor, incluya todos sus 
ejercicios en el directorio ./src de dicho proyecto.</p>
<p>Tenga en cuenta que seguir la metodología TDD o BDD implica confirmar el correcto funcionamiento del software, así como los casos en los que el software debería mostrar un error cuando la entrada no sea la correcta (errors should never pass silently). En consecuencia, desarrolle pruebas unitarias que comprueben el correcto funcionamiento del código y, además, incluya otras pruebas unitarias que verifiquen que el código es robusto ante entradas no válidas o inesperadas.</p>

<a href="#ejercicios-propuestos-" id="ejercicios-propuestos-" style="color: inherit; text-decoration: none;">
  <h2>Ejercicios propuestos <a name="ejercicios-propuestos"></a></h2>
</a>

<a href="#ejercicio-1---el-alergólogo-" id="ejercicio-1---el-alergólogo-" style="color: inherit; text-decoration: none;">
  <h3>Ejercicio 1 - El alergólogo <a name="ejercicio-1"></a></h3>
</a>
<blockquote>
<p><a href="#%C3%ADndice">Volver al índice</a></p>
</blockquote>
<blockquote>
<p>Una prueba de alérgenos produce un valor numérico (entero positivo) único, el cual contiene información sobre las alergias de una persona. La lista de posibles alérgenos es la siguiente:</p>
</blockquote>
<blockquote>
<ul>
<li><p>Huevo (1)</p>
</li>
<li><p>Cacahuete (2)</p>
</li>
<li><p>Marisco (4)</p>
</li>
<li><p>Fresa (8)</p>
</li>
<li><p>Tomate (16)</p>
</li>
<li><p>Chocolate (32)</p>
</li>
<li><p>Polen (64)</p>
</li>
<li><p>Gato (128)</p>
</li>
</ul>
<p>Por ejemplo, si alguien fuera alérgico a los gatos y al tomate, obtendría una puntuación igual a 128 + 16 = 144.</p>
<p>Escriba una función getAllergens que reciba una puntuación de alérgenos de una persona y que devuelva una lista con los alérgenos a los que la persona es alérgica. Los diferentes alérgenos deberán modelarse mediante un enumerado.</p>
<p>Por último, tenga en cuenta que la función podría recibir una puntuación que incluya alérgenos no contemplados en la lista, esto es, alérgenos cuya puntuación sea 256, 512, 1024, etc. Además, si el valor pasado como argumento no es entero y positivo, la función deberá retornar el valor undefined.</p>
<p>Ejemplos:</p>
<p>getAllergens(129) // It should return [Huevo, Gato]</p>
<p>getAllergens(257) // It should return [Huevo]</p>
<p>getAllergens(256) // It should return []</p>
<p>getAllergens(515) // It should return [Huevo, Cacahuete]</p>
<p>getAllergens(84)  // It should return [Marisco, Tomate, Polen]</p>
</blockquote>

<a href="#solución" id="solución" style="color: inherit; text-decoration: none;">
  <h4>Solución:</h4>
</a>
<p>Tanto el enumerable como la función se exportan para poder luego ser utilizada en los tests.</p>
<p>Primero se define un enumerado <code>Allergen</code> con cada uno de los alérgenos y su correspondiente valor numérico.</p>
<pre><code class="language-typescript"><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">enum</span><span class="hl-1"> </span><span class="hl-3">Allergen</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">Huevo</span><span class="hl-1"> = </span><span class="hl-5">1</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">Cacahuete</span><span class="hl-1"> = </span><span class="hl-5">2</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">Marisco</span><span class="hl-1"> = </span><span class="hl-5">4</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">Fresa</span><span class="hl-1"> = </span><span class="hl-5">8</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">Tomate</span><span class="hl-1"> = </span><span class="hl-5">16</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">Chocolate</span><span class="hl-1"> = </span><span class="hl-5">32</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">Polen</span><span class="hl-1"> = </span><span class="hl-5">64</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">Gato</span><span class="hl-1"> = </span><span class="hl-5">128</span><br/><span class="hl-1">}</span>
</code></pre>
<p>Luego definimos la función <code>getAllergens</code>, que recibe una puntuación de alérgenos <em>score</em> y devuelve una lista de elérgenos a los que la persona es elérgica, representados como valores del enumerado <code>Allergen</code>.</p>
<pre><code class="language-typescript"><br/><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">function</span><span class="hl-1"> </span><span class="hl-6">getAllergens</span><span class="hl-1">(</span><span class="hl-7">score</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">): </span><span class="hl-3">Allergen</span><span class="hl-1">[] | </span><span class="hl-3">undefined</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">if</span><span class="hl-1"> (!</span><span class="hl-7">Number</span><span class="hl-1">.</span><span class="hl-6">isInteger</span><span class="hl-1">(</span><span class="hl-7">score</span><span class="hl-1">) || </span><span class="hl-7">score</span><span class="hl-1"> &lt;= </span><span class="hl-5">0</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-2">undefined</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">allergens</span><span class="hl-1">: </span><span class="hl-3">Allergen</span><span class="hl-1">[] = [];</span><br/><span class="hl-1">  </span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-7">remainingScore</span><span class="hl-1"> = </span><span class="hl-7">score</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-8">// Iterar sobre todos los alérgenos</span><br/><span class="hl-1">  </span><span class="hl-0">for</span><span class="hl-1"> (</span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">allergenValue</span><span class="hl-1"> </span><span class="hl-2">of</span><span class="hl-1"> </span><span class="hl-7">Object</span><span class="hl-1">.</span><span class="hl-6">values</span><span class="hl-1">(</span><span class="hl-7">Allergen</span><span class="hl-1">)) {</span><br/><span class="hl-1">    </span><span class="hl-8">// Si el valor es un número, y es una potencia de 2 (es decir, solo tiene un bit encendido en su representación binaria)</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">typeof</span><span class="hl-1"> </span><span class="hl-7">allergenValue</span><span class="hl-1"> === </span><span class="hl-9">&#39;number&#39;</span><span class="hl-1"> &amp;&amp; (</span><span class="hl-7">allergenValue</span><span class="hl-1"> &amp; (</span><span class="hl-7">allergenValue</span><span class="hl-1"> - </span><span class="hl-5">1</span><span class="hl-1">)) === </span><span class="hl-5">0</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-8">// Si la puntuación restante incluye el alérgeno</span><br/><span class="hl-1">      </span><span class="hl-0">if</span><span class="hl-1"> ((</span><span class="hl-7">remainingScore</span><span class="hl-1"> &amp; </span><span class="hl-7">allergenValue</span><span class="hl-1">) === </span><span class="hl-7">allergenValue</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-8">// Agregar el alérgeno a la lista y restar su valor de la puntuación restante</span><br/><span class="hl-1">        </span><span class="hl-7">allergens</span><span class="hl-1">.</span><span class="hl-6">push</span><span class="hl-1">(</span><span class="hl-7">allergenValue</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-7">remainingScore</span><span class="hl-1"> -= </span><span class="hl-7">allergenValue</span><span class="hl-1">;</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-7">allergens</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>
<p>En ella se verifica si la puntuación es entera y positiva, de lo contrario se devuelve <em>undefined</em>.</p>
<p>Se crea un array <em>allergens</em> para almacenar los alérgenos a los que la persona es alérgica.</p>
<p>Luego, se crea una variable <em>remainingScore</em> que inicialmente tiene el valor de la puntuación recibida, y que se irá actualizando a medida que se agreguen alérgenos al array <em>allergens</em>.</p>
<p>Se itera sobre todos los valores del enum <em>Allergen</em> utilizando <em>Object.values</em>.</p>
<p>Verificamos si el valor es un número y si es una potencia de 2. Para verificar si es una potencia de 2, utilizamos la propiedad de que en la representación binaria de un número que es potencia de 2, solo hay un bit encendido (el bit de la posición que corresponde a la potencia de 2). Entonces, si restamos 1 al valor y hacemos una operación AND con el valor original, si obtenemos 0 significa que solo hay un bit encendido, por lo que es una potencia de 2.</p>
<p>Si el valor es una potencia de 2, verificamos si la puntuación restante (<em>remainingScore</em>) incluye el alérgeno. Para esto, hacemos una operación AND entre la puntuación restante y el valor del alérgeno. Si el resultado es igual al valor del lérgeno, significa que la puntuación restante incluye el alérgeno y lo añadimos a la lista de alérgenos alérgicos (allergens), y restamos el valor del alérgeno a la puntuación restante (remainingScore) para evitar que se verifique en próximas iteraciones.</p>
<p>Si el valor no es una potencia de 2, significa que no es un alérgeno contemplado en la lista y no es necesario hacer nada en este caso.</p>
<p>Finalmente, devolvemos la lista de alérgenos alérgicos (allergens).</p>

<a href="#tests" id="tests" style="color: inherit; text-decoration: none;">
  <h4>Tests:</h4>
</a>
<p>En los tests se usa la función <em>expect</em> de la librería chai para verificar que el resultado de la función <em>getAllergens</em> sea el esperado. Se utilizan los métodos <code>to.deep.equal</code> para comparar arrays y <code>to.be.undefined</code> para verificar que el resultado sea <em>undefined</em>. En los casos en que se espera que la función retorne un array, se usa el método <code>to.deep.equal</code> para asegurarse de que los elementos del array sean iguales en orden y contenido. También se prueban los casos en que la función debería retornar <em>undefined</em> si se le pasa un valor no entero o no positivo.</p>
<pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-7">describe</span><span class="hl-1">, </span><span class="hl-7">it</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-9">&#39;mocha&#39;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-7">expect</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-9">&quot;chai&quot;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> {</span><span class="hl-7">getAllergens</span><span class="hl-1">, </span><span class="hl-7">Allergen</span><span class="hl-1">} </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-9">&quot;../src/ejercicio01&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">describe</span><span class="hl-1">(</span><span class="hl-9">&quot;getAllergens&quot;</span><span class="hl-1">, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">it</span><span class="hl-1">(</span><span class="hl-9">&quot;should return [Huevo, Gato] when given 129&quot;</span><span class="hl-1">, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">result</span><span class="hl-1"> = </span><span class="hl-6">getAllergens</span><span class="hl-1">(</span><span class="hl-5">129</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-6">expect</span><span class="hl-1">(</span><span class="hl-7">result</span><span class="hl-1">).</span><span class="hl-7">to</span><span class="hl-1">.</span><span class="hl-7">deep</span><span class="hl-1">.</span><span class="hl-6">equal</span><span class="hl-1">([</span><span class="hl-7">Allergen</span><span class="hl-1">.</span><span class="hl-7">Huevo</span><span class="hl-1">, </span><span class="hl-7">Allergen</span><span class="hl-1">.</span><span class="hl-7">Gato</span><span class="hl-1">]);</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-1">  </span><span class="hl-6">it</span><span class="hl-1">(</span><span class="hl-9">&quot;should return [Huevo] when given 257&quot;</span><span class="hl-1">, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">result</span><span class="hl-1"> = </span><span class="hl-6">getAllergens</span><span class="hl-1">(</span><span class="hl-5">257</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-6">expect</span><span class="hl-1">(</span><span class="hl-7">result</span><span class="hl-1">).</span><span class="hl-7">to</span><span class="hl-1">.</span><span class="hl-7">deep</span><span class="hl-1">.</span><span class="hl-6">equal</span><span class="hl-1">([</span><span class="hl-7">Allergen</span><span class="hl-1">.</span><span class="hl-7">Huevo</span><span class="hl-1">]);</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-1">  </span><span class="hl-6">it</span><span class="hl-1">(</span><span class="hl-9">&quot;should return [] when given 256&quot;</span><span class="hl-1">, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">result</span><span class="hl-1"> = </span><span class="hl-6">getAllergens</span><span class="hl-1">(</span><span class="hl-5">256</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-6">expect</span><span class="hl-1">(</span><span class="hl-7">result</span><span class="hl-1">).</span><span class="hl-7">to</span><span class="hl-1">.</span><span class="hl-7">deep</span><span class="hl-1">.</span><span class="hl-6">equal</span><span class="hl-1">([]);</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-1">  </span><span class="hl-6">it</span><span class="hl-1">(</span><span class="hl-9">&quot;should return [Huevo, Cacahuete] when given 515&quot;</span><span class="hl-1">, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">result</span><span class="hl-1"> = </span><span class="hl-6">getAllergens</span><span class="hl-1">(</span><span class="hl-5">515</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-6">expect</span><span class="hl-1">(</span><span class="hl-7">result</span><span class="hl-1">).</span><span class="hl-7">to</span><span class="hl-1">.</span><span class="hl-7">deep</span><span class="hl-1">.</span><span class="hl-6">equal</span><span class="hl-1">([</span><span class="hl-7">Allergen</span><span class="hl-1">.</span><span class="hl-7">Huevo</span><span class="hl-1">, </span><span class="hl-7">Allergen</span><span class="hl-1">.</span><span class="hl-7">Cacahuete</span><span class="hl-1">]);</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-1">  </span><span class="hl-6">it</span><span class="hl-1">(</span><span class="hl-9">&quot;should return [Marisco, Tomate, Polen] when given 84&quot;</span><span class="hl-1">, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">result</span><span class="hl-1"> = </span><span class="hl-6">getAllergens</span><span class="hl-1">(</span><span class="hl-5">84</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-6">expect</span><span class="hl-1">(</span><span class="hl-7">result</span><span class="hl-1">).</span><span class="hl-7">to</span><span class="hl-1">.</span><span class="hl-7">deep</span><span class="hl-1">.</span><span class="hl-6">equal</span><span class="hl-1">([</span><span class="hl-7">Allergen</span><span class="hl-1">.</span><span class="hl-7">Marisco</span><span class="hl-1">, </span><span class="hl-7">Allergen</span><span class="hl-1">.</span><span class="hl-7">Tomate</span><span class="hl-1">, </span><span class="hl-7">Allergen</span><span class="hl-1">.</span><span class="hl-7">Polen</span><span class="hl-1">]);</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-1">  </span><span class="hl-6">it</span><span class="hl-1">(</span><span class="hl-9">&quot;should return undefined when given a non-positive integer value&quot;</span><span class="hl-1">, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">result</span><span class="hl-1"> = </span><span class="hl-6">getAllergens</span><span class="hl-1">(-</span><span class="hl-5">1</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-6">expect</span><span class="hl-1">(</span><span class="hl-7">result</span><span class="hl-1">).</span><span class="hl-7">to</span><span class="hl-1">.</span><span class="hl-7">be</span><span class="hl-1">.</span><span class="hl-7">undefined</span><span class="hl-1">;</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-1">  </span><span class="hl-6">it</span><span class="hl-1">(</span><span class="hl-9">&quot;should return undefined when given a non-integer value&quot;</span><span class="hl-1">, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">result</span><span class="hl-1"> = </span><span class="hl-6">getAllergens</span><span class="hl-1">(</span><span class="hl-5">3.14</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-6">expect</span><span class="hl-1">(</span><span class="hl-7">result</span><span class="hl-1">).</span><span class="hl-7">to</span><span class="hl-1">.</span><span class="hl-7">be</span><span class="hl-1">.</span><span class="hl-7">undefined</span><span class="hl-1">;</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">});</span>
</code></pre>

<a href="#ejercicio-2---números-complejos-" id="ejercicio-2---números-complejos-" style="color: inherit; text-decoration: none;">
  <h3>Ejercicio 2 - Números complejos <a name="ejercicio-2"></a></h3>
</a>
<blockquote>
<p><a href="#%C3%ADndice">Volver al índice</a></p>
</blockquote>
<blockquote>
<p>Con lo visto hasta ahora en la asignatura, defina un tipo de datos propio que permita representar un número complejo, esto es, pares de valores numéricos reales, donde la primera componente del par es la parte real del complejo, mientras que la segunda componente del par representa su parte imaginaria.</p>
<p>A continuación, partiendo de dicha definición, escriba funciones que permitan calcular las siguientes operaciones sobre números complejos:</p>
<p>Suma, resta, multiplicación y división (funciones add, sub, mult y div). Estas funciones reciben como argumentos dos complejos y devuelven un complejo.</p>
<p>Producto escalar (función prod). Esta función recibe como argumentos un complejo y un número real, retornando un número complejo.</p>
<p>Conjugado (función conj). Recibe como argumento un complejo y devuelve otro complejo.</p>
<p>Módulo (función abs). La función recibe como argumento un complejo y retorna un valor real. </p>
</blockquote>

<a href="#solución-1" id="solución-1" style="color: inherit; text-decoration: none;">
  <h4>Solución:</h4>
</a>
<p>Para definir el tipo de datos para un número complejo, se puede utilizar una interfaz de TypeScript:</p>
<pre><code class="language-typescript"><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">interface</span><span class="hl-1"> </span><span class="hl-3">ComplexNumber</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-7">real</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-7">imaginary</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>
<p>A partir de esta interfaz, se pueden definir las funciones solicitadas:</p>
<pre><code class="language-typescript"><span class="hl-8">// Suma de dos números complejos</span><br/><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">function</span><span class="hl-1"> </span><span class="hl-6">add</span><span class="hl-1">(</span><span class="hl-7">a</span><span class="hl-1">: </span><span class="hl-3">ComplexNumber</span><span class="hl-1">, </span><span class="hl-7">b</span><span class="hl-1">: </span><span class="hl-3">ComplexNumber</span><span class="hl-1">): </span><span class="hl-3">ComplexNumber</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">return</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">real:</span><span class="hl-1"> </span><span class="hl-7">a</span><span class="hl-1">.</span><span class="hl-7">real</span><span class="hl-1"> + </span><span class="hl-7">b</span><span class="hl-1">.</span><span class="hl-7">real</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">imaginary:</span><span class="hl-1"> </span><span class="hl-7">a</span><span class="hl-1">.</span><span class="hl-7">imaginary</span><span class="hl-1"> + </span><span class="hl-7">b</span><span class="hl-1">.</span><span class="hl-7">imaginary</span><span class="hl-1">,</span><br/><span class="hl-1">  };</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-8">// Resta de dos números complejos</span><br/><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">function</span><span class="hl-1"> </span><span class="hl-6">sub</span><span class="hl-1">(</span><span class="hl-7">a</span><span class="hl-1">: </span><span class="hl-3">ComplexNumber</span><span class="hl-1">, </span><span class="hl-7">b</span><span class="hl-1">: </span><span class="hl-3">ComplexNumber</span><span class="hl-1">): </span><span class="hl-3">ComplexNumber</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">return</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">real:</span><span class="hl-1"> </span><span class="hl-7">a</span><span class="hl-1">.</span><span class="hl-7">real</span><span class="hl-1"> - </span><span class="hl-7">b</span><span class="hl-1">.</span><span class="hl-7">real</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">imaginary:</span><span class="hl-1"> </span><span class="hl-7">a</span><span class="hl-1">.</span><span class="hl-7">imaginary</span><span class="hl-1"> - </span><span class="hl-7">b</span><span class="hl-1">.</span><span class="hl-7">imaginary</span><span class="hl-1">,</span><br/><span class="hl-1">  };</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-8">// Multiplicación de dos números complejos</span><br/><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">function</span><span class="hl-1"> </span><span class="hl-6">mult</span><span class="hl-1">(</span><span class="hl-7">a</span><span class="hl-1">: </span><span class="hl-3">ComplexNumber</span><span class="hl-1">, </span><span class="hl-7">b</span><span class="hl-1">: </span><span class="hl-3">ComplexNumber</span><span class="hl-1">): </span><span class="hl-3">ComplexNumber</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">return</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">real:</span><span class="hl-1"> </span><span class="hl-7">a</span><span class="hl-1">.</span><span class="hl-7">real</span><span class="hl-1"> * </span><span class="hl-7">b</span><span class="hl-1">.</span><span class="hl-7">real</span><span class="hl-1"> - </span><span class="hl-7">a</span><span class="hl-1">.</span><span class="hl-7">imaginary</span><span class="hl-1"> * </span><span class="hl-7">b</span><span class="hl-1">.</span><span class="hl-7">imaginary</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">imaginary:</span><span class="hl-1"> </span><span class="hl-7">a</span><span class="hl-1">.</span><span class="hl-7">real</span><span class="hl-1"> * </span><span class="hl-7">b</span><span class="hl-1">.</span><span class="hl-7">imaginary</span><span class="hl-1"> + </span><span class="hl-7">a</span><span class="hl-1">.</span><span class="hl-7">imaginary</span><span class="hl-1"> * </span><span class="hl-7">b</span><span class="hl-1">.</span><span class="hl-7">real</span><span class="hl-1">,</span><br/><span class="hl-1">  };</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-8">// División de dos números complejos</span><br/><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">function</span><span class="hl-1"> </span><span class="hl-6">div</span><span class="hl-1">(</span><span class="hl-7">a</span><span class="hl-1">: </span><span class="hl-3">ComplexNumber</span><span class="hl-1">, </span><span class="hl-7">b</span><span class="hl-1">: </span><span class="hl-3">ComplexNumber</span><span class="hl-1">): </span><span class="hl-3">ComplexNumber</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">denominator</span><span class="hl-1"> = </span><span class="hl-7">b</span><span class="hl-1">.</span><span class="hl-7">real</span><span class="hl-1"> ** </span><span class="hl-5">2</span><span class="hl-1"> + </span><span class="hl-7">b</span><span class="hl-1">.</span><span class="hl-7">imaginary</span><span class="hl-1"> ** </span><span class="hl-5">2</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">realPart</span><span class="hl-1"> = (</span><span class="hl-7">a</span><span class="hl-1">.</span><span class="hl-7">real</span><span class="hl-1"> * </span><span class="hl-7">b</span><span class="hl-1">.</span><span class="hl-7">real</span><span class="hl-1"> + </span><span class="hl-7">a</span><span class="hl-1">.</span><span class="hl-7">imaginary</span><span class="hl-1"> * </span><span class="hl-7">b</span><span class="hl-1">.</span><span class="hl-7">imaginary</span><span class="hl-1">) / </span><span class="hl-7">denominator</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">imaginaryPart</span><span class="hl-1"> = (</span><span class="hl-7">a</span><span class="hl-1">.</span><span class="hl-7">imaginary</span><span class="hl-1"> * </span><span class="hl-7">b</span><span class="hl-1">.</span><span class="hl-7">real</span><span class="hl-1"> - </span><span class="hl-7">a</span><span class="hl-1">.</span><span class="hl-7">real</span><span class="hl-1"> * </span><span class="hl-7">b</span><span class="hl-1">.</span><span class="hl-7">imaginary</span><span class="hl-1">) / </span><span class="hl-7">denominator</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">return</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">real:</span><span class="hl-1"> </span><span class="hl-7">Math</span><span class="hl-1">.</span><span class="hl-6">round</span><span class="hl-1">(</span><span class="hl-7">realPart</span><span class="hl-1"> * </span><span class="hl-5">100</span><span class="hl-1">) / </span><span class="hl-5">100</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">imaginary:</span><span class="hl-1"> </span><span class="hl-7">Math</span><span class="hl-1">.</span><span class="hl-6">round</span><span class="hl-1">(</span><span class="hl-7">imaginaryPart</span><span class="hl-1"> * </span><span class="hl-5">100</span><span class="hl-1">) / </span><span class="hl-5">100</span><span class="hl-1">,</span><br/><span class="hl-1">  };</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-8">// Producto escalar de un número complejo y un número real</span><br/><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">function</span><span class="hl-1"> </span><span class="hl-6">prod</span><span class="hl-1">(</span><span class="hl-7">a</span><span class="hl-1">: </span><span class="hl-3">ComplexNumber</span><span class="hl-1">, </span><span class="hl-7">b</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">): </span><span class="hl-3">ComplexNumber</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">return</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">real:</span><span class="hl-1"> </span><span class="hl-7">a</span><span class="hl-1">.</span><span class="hl-7">real</span><span class="hl-1"> * </span><span class="hl-7">b</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">imaginary:</span><span class="hl-1"> </span><span class="hl-7">a</span><span class="hl-1">.</span><span class="hl-7">imaginary</span><span class="hl-1"> * </span><span class="hl-7">b</span><span class="hl-1">,</span><br/><span class="hl-1">  };</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-8">// Conjugado de un número complejo</span><br/><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">function</span><span class="hl-1"> </span><span class="hl-6">conj</span><span class="hl-1">(</span><span class="hl-7">a</span><span class="hl-1">: </span><span class="hl-3">ComplexNumber</span><span class="hl-1">): </span><span class="hl-3">ComplexNumber</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">return</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">real:</span><span class="hl-1"> </span><span class="hl-7">a</span><span class="hl-1">.</span><span class="hl-7">real</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">imaginary:</span><span class="hl-1"> -</span><span class="hl-7">a</span><span class="hl-1">.</span><span class="hl-7">imaginary</span><span class="hl-1">,</span><br/><span class="hl-1">  };</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-8">// Módulo de un número complejo</span><br/><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">function</span><span class="hl-1"> </span><span class="hl-6">abs</span><span class="hl-1">(</span><span class="hl-7">a</span><span class="hl-1">: </span><span class="hl-3">ComplexNumber</span><span class="hl-1">): </span><span class="hl-3">number</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-7">Math</span><span class="hl-1">.</span><span class="hl-6">sqrt</span><span class="hl-1">(</span><span class="hl-7">a</span><span class="hl-1">.</span><span class="hl-7">real</span><span class="hl-1"> ** </span><span class="hl-5">2</span><span class="hl-1"> + </span><span class="hl-7">a</span><span class="hl-1">.</span><span class="hl-7">imaginary</span><span class="hl-1"> ** </span><span class="hl-5">2</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code></pre>
<p>En la división he usado <em>Math.round()</em> para redondear los valores reales e imaginarios devueltos a dos decimales. Así evito pequeñas diferencias de redondeo que podrían causar problemas en las pruebas.</p>

<a href="#tests-1" id="tests-1" style="color: inherit; text-decoration: none;">
  <h4>Tests</h4>
</a>
<p>En los tests simplemente se sigue la filosofía anteriormente indicada, comprobando los resultados de todas las funciones.</p>
<pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-7">describe</span><span class="hl-1">, </span><span class="hl-7">it</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-9">&#39;mocha&#39;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-7">expect</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-9">&quot;chai&quot;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-7">ComplexNumber</span><span class="hl-1">, </span><span class="hl-7">add</span><span class="hl-1">, </span><span class="hl-7">sub</span><span class="hl-1">, </span><span class="hl-7">mult</span><span class="hl-1">, </span><span class="hl-7">div</span><span class="hl-1">, </span><span class="hl-7">prod</span><span class="hl-1">, </span><span class="hl-7">conj</span><span class="hl-1">, </span><span class="hl-7">abs</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-9">&#39;../src/ejercicio02&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">describe</span><span class="hl-1">(</span><span class="hl-9">&#39;add&#39;</span><span class="hl-1">, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">it</span><span class="hl-1">(</span><span class="hl-9">&#39;should add two complex numbers&#39;</span><span class="hl-1">, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">a</span><span class="hl-1">: </span><span class="hl-3">ComplexNumber</span><span class="hl-1"> = { </span><span class="hl-7">real:</span><span class="hl-1"> </span><span class="hl-5">2</span><span class="hl-1">, </span><span class="hl-7">imaginary:</span><span class="hl-1"> </span><span class="hl-5">3</span><span class="hl-1"> };</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">b</span><span class="hl-1">: </span><span class="hl-3">ComplexNumber</span><span class="hl-1"> = { </span><span class="hl-7">real:</span><span class="hl-1"> </span><span class="hl-5">1</span><span class="hl-1">, </span><span class="hl-7">imaginary:</span><span class="hl-1"> </span><span class="hl-5">4</span><span class="hl-1"> };</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">expected</span><span class="hl-1">: </span><span class="hl-3">ComplexNumber</span><span class="hl-1"> = { </span><span class="hl-7">real:</span><span class="hl-1"> </span><span class="hl-5">3</span><span class="hl-1">, </span><span class="hl-7">imaginary:</span><span class="hl-1"> </span><span class="hl-5">7</span><span class="hl-1"> };</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">result</span><span class="hl-1">: </span><span class="hl-3">ComplexNumber</span><span class="hl-1"> = </span><span class="hl-6">add</span><span class="hl-1">(</span><span class="hl-7">a</span><span class="hl-1">, </span><span class="hl-7">b</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-6">expect</span><span class="hl-1">(</span><span class="hl-7">result</span><span class="hl-1">).</span><span class="hl-7">to</span><span class="hl-1">.</span><span class="hl-7">deep</span><span class="hl-1">.</span><span class="hl-6">equal</span><span class="hl-1">(</span><span class="hl-7">expected</span><span class="hl-1">);</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">describe</span><span class="hl-1">(</span><span class="hl-9">&#39;sub&#39;</span><span class="hl-1">, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">it</span><span class="hl-1">(</span><span class="hl-9">&#39;should subtract two complex numbers&#39;</span><span class="hl-1">, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">a</span><span class="hl-1">: </span><span class="hl-3">ComplexNumber</span><span class="hl-1"> = { </span><span class="hl-7">real:</span><span class="hl-1"> </span><span class="hl-5">2</span><span class="hl-1">, </span><span class="hl-7">imaginary:</span><span class="hl-1"> </span><span class="hl-5">3</span><span class="hl-1"> };</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">b</span><span class="hl-1">: </span><span class="hl-3">ComplexNumber</span><span class="hl-1"> = { </span><span class="hl-7">real:</span><span class="hl-1"> </span><span class="hl-5">1</span><span class="hl-1">, </span><span class="hl-7">imaginary:</span><span class="hl-1"> </span><span class="hl-5">4</span><span class="hl-1"> };</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">expected</span><span class="hl-1">: </span><span class="hl-3">ComplexNumber</span><span class="hl-1"> = { </span><span class="hl-7">real:</span><span class="hl-1"> </span><span class="hl-5">1</span><span class="hl-1">, </span><span class="hl-7">imaginary:</span><span class="hl-1"> -</span><span class="hl-5">1</span><span class="hl-1"> };</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">result</span><span class="hl-1">: </span><span class="hl-3">ComplexNumber</span><span class="hl-1"> = </span><span class="hl-6">sub</span><span class="hl-1">(</span><span class="hl-7">a</span><span class="hl-1">, </span><span class="hl-7">b</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-6">expect</span><span class="hl-1">(</span><span class="hl-7">result</span><span class="hl-1">).</span><span class="hl-7">to</span><span class="hl-1">.</span><span class="hl-7">deep</span><span class="hl-1">.</span><span class="hl-6">equal</span><span class="hl-1">(</span><span class="hl-7">expected</span><span class="hl-1">);</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">describe</span><span class="hl-1">(</span><span class="hl-9">&#39;mult&#39;</span><span class="hl-1">, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">it</span><span class="hl-1">(</span><span class="hl-9">&#39;should multiply two complex numbers&#39;</span><span class="hl-1">, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">a</span><span class="hl-1">: </span><span class="hl-3">ComplexNumber</span><span class="hl-1"> = { </span><span class="hl-7">real:</span><span class="hl-1"> </span><span class="hl-5">2</span><span class="hl-1">, </span><span class="hl-7">imaginary:</span><span class="hl-1"> </span><span class="hl-5">3</span><span class="hl-1"> };</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">b</span><span class="hl-1">: </span><span class="hl-3">ComplexNumber</span><span class="hl-1"> = { </span><span class="hl-7">real:</span><span class="hl-1"> </span><span class="hl-5">1</span><span class="hl-1">, </span><span class="hl-7">imaginary:</span><span class="hl-1"> </span><span class="hl-5">4</span><span class="hl-1"> };</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">expected</span><span class="hl-1">: </span><span class="hl-3">ComplexNumber</span><span class="hl-1"> = { </span><span class="hl-7">real:</span><span class="hl-1"> -</span><span class="hl-5">10</span><span class="hl-1">, </span><span class="hl-7">imaginary:</span><span class="hl-1"> </span><span class="hl-5">11</span><span class="hl-1"> };</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">result</span><span class="hl-1">: </span><span class="hl-3">ComplexNumber</span><span class="hl-1"> = </span><span class="hl-6">mult</span><span class="hl-1">(</span><span class="hl-7">a</span><span class="hl-1">, </span><span class="hl-7">b</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-6">expect</span><span class="hl-1">(</span><span class="hl-7">result</span><span class="hl-1">).</span><span class="hl-7">to</span><span class="hl-1">.</span><span class="hl-7">deep</span><span class="hl-1">.</span><span class="hl-6">equal</span><span class="hl-1">(</span><span class="hl-7">expected</span><span class="hl-1">);</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">describe</span><span class="hl-1">(</span><span class="hl-9">&#39;div&#39;</span><span class="hl-1">, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">it</span><span class="hl-1">(</span><span class="hl-9">&#39;should divide two complex numbers&#39;</span><span class="hl-1">, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">a</span><span class="hl-1">: </span><span class="hl-3">ComplexNumber</span><span class="hl-1"> = { </span><span class="hl-7">real:</span><span class="hl-1"> </span><span class="hl-5">2</span><span class="hl-1">, </span><span class="hl-7">imaginary:</span><span class="hl-1"> </span><span class="hl-5">3</span><span class="hl-1"> };</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">b</span><span class="hl-1">: </span><span class="hl-3">ComplexNumber</span><span class="hl-1"> = { </span><span class="hl-7">real:</span><span class="hl-1"> </span><span class="hl-5">1</span><span class="hl-1">, </span><span class="hl-7">imaginary:</span><span class="hl-1"> </span><span class="hl-5">4</span><span class="hl-1"> };</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">expected</span><span class="hl-1">: </span><span class="hl-3">ComplexNumber</span><span class="hl-1"> = { </span><span class="hl-7">real:</span><span class="hl-1"> </span><span class="hl-5">0.82</span><span class="hl-1">, </span><span class="hl-7">imaginary:</span><span class="hl-1"> -</span><span class="hl-5">0.29</span><span class="hl-1"> };</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">result</span><span class="hl-1">: </span><span class="hl-3">ComplexNumber</span><span class="hl-1"> = </span><span class="hl-6">div</span><span class="hl-1">(</span><span class="hl-7">a</span><span class="hl-1">, </span><span class="hl-7">b</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-6">expect</span><span class="hl-1">(</span><span class="hl-7">result</span><span class="hl-1">.</span><span class="hl-7">real</span><span class="hl-1">).</span><span class="hl-7">to</span><span class="hl-1">.</span><span class="hl-7">be</span><span class="hl-1">.</span><span class="hl-6">closeTo</span><span class="hl-1">(</span><span class="hl-7">expected</span><span class="hl-1">.</span><span class="hl-7">real</span><span class="hl-1">, </span><span class="hl-5">0.01</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-6">expect</span><span class="hl-1">(</span><span class="hl-7">result</span><span class="hl-1">.</span><span class="hl-7">imaginary</span><span class="hl-1">).</span><span class="hl-7">to</span><span class="hl-1">.</span><span class="hl-7">be</span><span class="hl-1">.</span><span class="hl-6">closeTo</span><span class="hl-1">(</span><span class="hl-7">expected</span><span class="hl-1">.</span><span class="hl-7">imaginary</span><span class="hl-1">, </span><span class="hl-5">0.01</span><span class="hl-1">);</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">describe</span><span class="hl-1">(</span><span class="hl-9">&#39;prod&#39;</span><span class="hl-1">, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">it</span><span class="hl-1">(</span><span class="hl-9">&#39;should multiply a complex number by a real number&#39;</span><span class="hl-1">, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">a</span><span class="hl-1">: </span><span class="hl-3">ComplexNumber</span><span class="hl-1"> = { </span><span class="hl-7">real:</span><span class="hl-1"> </span><span class="hl-5">2</span><span class="hl-1">, </span><span class="hl-7">imaginary:</span><span class="hl-1"> </span><span class="hl-5">3</span><span class="hl-1"> };</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">b</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1"> = </span><span class="hl-5">2</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">expected</span><span class="hl-1">: </span><span class="hl-3">ComplexNumber</span><span class="hl-1"> = { </span><span class="hl-7">real:</span><span class="hl-1"> </span><span class="hl-5">4</span><span class="hl-1">, </span><span class="hl-7">imaginary:</span><span class="hl-1"> </span><span class="hl-5">6</span><span class="hl-1"> };</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">result</span><span class="hl-1">: </span><span class="hl-3">ComplexNumber</span><span class="hl-1"> = </span><span class="hl-6">prod</span><span class="hl-1">(</span><span class="hl-7">a</span><span class="hl-1">, </span><span class="hl-7">b</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-6">expect</span><span class="hl-1">(</span><span class="hl-7">result</span><span class="hl-1">).</span><span class="hl-7">to</span><span class="hl-1">.</span><span class="hl-7">deep</span><span class="hl-1">.</span><span class="hl-6">equal</span><span class="hl-1">(</span><span class="hl-7">expected</span><span class="hl-1">);</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">describe</span><span class="hl-1">(</span><span class="hl-9">&#39;conj&#39;</span><span class="hl-1">, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">it</span><span class="hl-1">(</span><span class="hl-9">&#39;should return the conjugate of a complex number&#39;</span><span class="hl-1">, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">a</span><span class="hl-1">: </span><span class="hl-3">ComplexNumber</span><span class="hl-1"> = { </span><span class="hl-7">real:</span><span class="hl-1"> </span><span class="hl-5">2</span><span class="hl-1">, </span><span class="hl-7">imaginary:</span><span class="hl-1"> </span><span class="hl-5">3</span><span class="hl-1"> };</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">expected</span><span class="hl-1">: </span><span class="hl-3">ComplexNumber</span><span class="hl-1"> = { </span><span class="hl-7">real:</span><span class="hl-1"> </span><span class="hl-5">2</span><span class="hl-1">, </span><span class="hl-7">imaginary:</span><span class="hl-1"> -</span><span class="hl-5">3</span><span class="hl-1"> };</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">result</span><span class="hl-1">: </span><span class="hl-3">ComplexNumber</span><span class="hl-1"> = </span><span class="hl-6">conj</span><span class="hl-1">(</span><span class="hl-7">a</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-6">expect</span><span class="hl-1">(</span><span class="hl-7">result</span><span class="hl-1">).</span><span class="hl-7">to</span><span class="hl-1">.</span><span class="hl-7">deep</span><span class="hl-1">.</span><span class="hl-6">equal</span><span class="hl-1">(</span><span class="hl-7">expected</span><span class="hl-1">);</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">describe</span><span class="hl-1">(</span><span class="hl-9">&#39;abs&#39;</span><span class="hl-1">, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">it</span><span class="hl-1">(</span><span class="hl-9">&#39;should return the absolute value of a complex number&#39;</span><span class="hl-1">, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">a</span><span class="hl-1">: </span><span class="hl-3">ComplexNumber</span><span class="hl-1"> = { </span><span class="hl-7">real:</span><span class="hl-1"> </span><span class="hl-5">2</span><span class="hl-1">, </span><span class="hl-7">imaginary:</span><span class="hl-1"> </span><span class="hl-5">3</span><span class="hl-1"> };</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">expected</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1"> = </span><span class="hl-5">3.605</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">result</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1"> = </span><span class="hl-6">abs</span><span class="hl-1">(</span><span class="hl-7">a</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-6">expect</span><span class="hl-1">(</span><span class="hl-7">result</span><span class="hl-1">).</span><span class="hl-7">to</span><span class="hl-1">.</span><span class="hl-7">be</span><span class="hl-1">.</span><span class="hl-6">closeTo</span><span class="hl-1">(</span><span class="hl-7">expected</span><span class="hl-1">, </span><span class="hl-5">0.01</span><span class="hl-1">);</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">});</span>
</code></pre>

<a href="#ejercicio-3---no-cabrees-a-la-reina-" id="ejercicio-3---no-cabrees-a-la-reina-" style="color: inherit; text-decoration: none;">
  <h3>Ejercicio 3 - No cabrees a la reina <a name="ejercicio-3"></a></h3>
</a>
<blockquote>
<p><a href="#%C3%ADndice">Volver al índice</a></p>
</blockquote>
<blockquote>
<p>Dadas las posiciones de dos reinas en un tablero de ajedrez, determine si ambas reinas podrían atacarse en caso de cabrearse una con la otra. En el ajedrez, una reina puede atacar piezas ubicadas en la misma fila, columna o diagonal.</p>
<p>Un tablero de ajedrez puede representarse mediante un array bidimensional de 8 x 8 casillas. Por lo tanto, si la reina negra está ubicada en la posición (1, 3), mientras que la reina blanca está ubicada en la posición (3, 5), tendríamos una estructura de datos como la que sigue:</p>
<p>[
   [-, -, -, -, -, -, -, -]
   [-, -, -, N, -, -, -, -]
   [-, -, -, -, -, -, -, -]
   [-, -, -, -, -, B, -, -]
   [-, -, -, -, -, -, -, -]
   [-, -, -, -, -, -, -, -]
   [-, -, -, -, -, -, -, -]
   [-, -, -, -, -, -, -, -]
]</p>
<p>Escriba una función checkAtack que, dada una estructura de datos como la anterior, devuelva un valor lógico 
indicando si ambas reinas podrían atacarse dadas las posiciones de las mismas. Tenga en cuenta que solo puede 
haber una reina blanca y una reina negra en el tablero. En caso de que lo anterior no suceda, la función deberá devolver el valor undefined.</p>
<p>Por último, el tablero debe consistir en, exactamente, 8 filas y 8 columnas, donde cada casilla puede contener alguno de los valores -, N o B, exclusivamente. Aunque la anterior comprobación podría llevarse a cabo a través del código fuente incluido en la función (en tiempo de ejecución), defina un tipo de datos adecuado que impida, desde el punto de vista del tipado (en tiempo de compilación), pasarle a la función checkAtack un tablero no válido, esto es, con un número de filas/columnas diferente a 8 y/o celdas con valores no válidos). </p>
</blockquote>

<a href="#solución-2" id="solución-2" style="color: inherit; text-decoration: none;">
  <h4>Solución:</h4>
</a>
<p>Primero se define el tipo ChessBoard como una matriz en la que cada celda puede contener un guion (&#39;-&#39;), una &#39;N&#39; o una &#39;B&#39;.</p>
<pre><code class="language-typescript"><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">type</span><span class="hl-1"> </span><span class="hl-3">ChessBoard</span><span class="hl-1"> = </span><span class="hl-3">Array</span><span class="hl-1">&lt;</span><span class="hl-3">Array</span><span class="hl-1">&lt;</span><span class="hl-9">&#39;-&#39;</span><span class="hl-1"> | </span><span class="hl-9">&#39;N&#39;</span><span class="hl-1"> | </span><span class="hl-9">&#39;B&#39;</span><span class="hl-1">&gt;&gt;;</span>
</code></pre>
<p>La función <code>isValidChessBoard</code> comprueba si una estructura de datos es un tablero de ajedrez válido, es decir, si es una matriz de 8x8 en la que cada celda contiene un guion (&#39;-&#39;), una &#39;N&#39; o una &#39;B&#39;. La función recibe como argumento un valor de tipo <em>unknown</em> y devuelve un valor de tipo <em>board is ChessBoard</em>, que es una verificación de tipo que garantiza que el valor es de tipo <em>ChessBoard</em>.</p>
<p>Para comprobar si la estructura de datos es un tablero de ajedrez válido, se realizan tres comprobaciones anidadas en un condicional if:</p>
<ol>
<li>Si el valor no es un array o si su longitud no es 8, en cuyo caso se devuelve false.</li>
<li>Si cada fila del tablero no es un array o si su longitud no es 8, en cuyo caso también se devuelve false.</li>
<li>Se comprueba si cada celda del tablero no es un guion, una &#39;N&#39; o una &#39;B&#39;, en cuyo caso se devuelve false.</li>
</ol>
<p>Si se han superado todas las comprobaciones anteriores, se devuelve true.</p>
<p>Además, se comprueba que en el tablero solo haya una reina de cada tipo.</p>
<pre><code class="language-typescript"><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">function</span><span class="hl-1"> </span><span class="hl-6">isValidChessBoard</span><span class="hl-1">(</span><span class="hl-7">board</span><span class="hl-1">: </span><span class="hl-3">unknown</span><span class="hl-1">): </span><span class="hl-7">board</span><span class="hl-1"> </span><span class="hl-2">is</span><span class="hl-1"> </span><span class="hl-3">ChessBoard</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (!</span><span class="hl-7">Array</span><span class="hl-1">.</span><span class="hl-6">isArray</span><span class="hl-1">(</span><span class="hl-7">board</span><span class="hl-1">) || </span><span class="hl-7">board</span><span class="hl-1">.</span><span class="hl-7">length</span><span class="hl-1"> !== </span><span class="hl-5">8</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-2">false</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  </span><br/><span class="hl-1">    </span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-7">numBlack</span><span class="hl-1"> = </span><span class="hl-5">0</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-7">numWhite</span><span class="hl-1"> = </span><span class="hl-5">0</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><br/><span class="hl-1">    </span><span class="hl-0">for</span><span class="hl-1"> (</span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">row</span><span class="hl-1"> </span><span class="hl-2">of</span><span class="hl-1"> </span><span class="hl-7">board</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-0">if</span><span class="hl-1"> (!</span><span class="hl-7">Array</span><span class="hl-1">.</span><span class="hl-6">isArray</span><span class="hl-1">(</span><span class="hl-7">row</span><span class="hl-1">) || </span><span class="hl-7">row</span><span class="hl-1">.</span><span class="hl-7">length</span><span class="hl-1"> !== </span><span class="hl-5">8</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-2">false</span><span class="hl-1">;</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">  </span><br/><span class="hl-1">      </span><span class="hl-0">for</span><span class="hl-1"> (</span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">cell</span><span class="hl-1"> </span><span class="hl-2">of</span><span class="hl-1"> </span><span class="hl-7">row</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-0">if</span><span class="hl-1"> (![</span><span class="hl-9">&#39;-&#39;</span><span class="hl-1">, </span><span class="hl-9">&#39;N&#39;</span><span class="hl-1">, </span><span class="hl-9">&#39;B&#39;</span><span class="hl-1">].</span><span class="hl-6">includes</span><span class="hl-1">(</span><span class="hl-7">cell</span><span class="hl-1">)) {</span><br/><span class="hl-1">          </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-2">false</span><span class="hl-1">;</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">  </span><br/><span class="hl-1">        </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-7">cell</span><span class="hl-1"> === </span><span class="hl-9">&#39;N&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">          </span><span class="hl-7">numBlack</span><span class="hl-1">++;</span><br/><span class="hl-1">        } </span><span class="hl-0">else</span><span class="hl-1"> </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-7">cell</span><span class="hl-1"> === </span><span class="hl-9">&#39;B&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">          </span><span class="hl-7">numWhite</span><span class="hl-1">++;</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  </span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-7">numBlack</span><span class="hl-1"> !== </span><span class="hl-5">1</span><span class="hl-1"> || </span><span class="hl-7">numWhite</span><span class="hl-1"> !== </span><span class="hl-5">1</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-2">false</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  </span><br/><span class="hl-1">    </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>
<p>La función <code>checkAttack</code> comprueba si dos reinas en un tablero de ajedrez podrían atacarse. La función recibe como argumento el tablero de ajedrez y a partir de él obtiene las posiciones de ambas reinas. La función devuelve <em>true</em> si ambas reinas podrían atacarse, <em>false</em> si no podrían atacarse y <em>undefined</em> si el tablero de ajedrez no es válido.</p>
<p>Para comprobar si el tablero de ajedrez es válido, se utiliza la función <code>isValidChessBoard</code> definida anteriormente. Si el tablero no es válido, se devuelve <em>undefined</em>.</p>
<p>Si el tablero es válido, se extraen las filas y las columnas de las posiciones de las dos reinas. Si las dos reinas están en la misma fila o en la misma columna, se devuelve <em>true</em> ya que la reina negra puede atacar a la reina blanca. De lo contrario, se calcula la diferencia entre las filas y las columnas de las reinas y se verifica si son iguales, lo que significa que están en la misma diagonal, en cuyo caso también se devuelve <em>true</em>. Si ninguna de las condiciones anteriores se cumple, se devuelve <em>false</em>.</p>
<pre><code class="language-typescript"><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">function</span><span class="hl-1"> </span><span class="hl-6">checkAttack</span><span class="hl-1">(</span><span class="hl-7">board</span><span class="hl-1">: </span><span class="hl-3">ChessBoard</span><span class="hl-1">): </span><span class="hl-3">boolean</span><span class="hl-1"> | </span><span class="hl-3">undefined</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">if</span><span class="hl-1"> (!</span><span class="hl-6">isValidChessBoard</span><span class="hl-1">(</span><span class="hl-7">board</span><span class="hl-1">)) {</span><br/><span class="hl-1">    </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-2">undefined</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">blackIndex</span><span class="hl-1"> = </span><span class="hl-7">board</span><span class="hl-1">.</span><span class="hl-6">findIndex</span><span class="hl-1">(</span><span class="hl-7">row</span><span class="hl-1"> </span><span class="hl-2">=&gt;</span><span class="hl-1"> </span><span class="hl-7">row</span><span class="hl-1">.</span><span class="hl-6">includes</span><span class="hl-1">(</span><span class="hl-9">&#39;N&#39;</span><span class="hl-1">));</span><br/><span class="hl-1">  </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">whiteIndex</span><span class="hl-1"> = </span><span class="hl-7">board</span><span class="hl-1">.</span><span class="hl-6">findIndex</span><span class="hl-1">(</span><span class="hl-7">row</span><span class="hl-1"> </span><span class="hl-2">=&gt;</span><span class="hl-1"> </span><span class="hl-7">row</span><span class="hl-1">.</span><span class="hl-6">includes</span><span class="hl-1">(</span><span class="hl-9">&#39;B&#39;</span><span class="hl-1">));</span><br/><br/><span class="hl-1">  </span><br/><br/><span class="hl-1">  </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-7">blackIndex</span><span class="hl-1"> === -</span><span class="hl-5">1</span><span class="hl-1"> || </span><span class="hl-7">whiteIndex</span><span class="hl-1"> === -</span><span class="hl-5">1</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-8">// Si no se encuentra alguna de las reinas, el tablero es inválido</span><br/><span class="hl-1">    </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-2">undefined</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">blackRow</span><span class="hl-1"> = </span><span class="hl-7">blackIndex</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">blackCol</span><span class="hl-1"> = </span><span class="hl-7">board</span><span class="hl-1">[</span><span class="hl-7">blackIndex</span><span class="hl-1">].</span><span class="hl-6">indexOf</span><span class="hl-1">(</span><span class="hl-9">&#39;N&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-1">  </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">whiteRow</span><span class="hl-1"> = </span><span class="hl-7">whiteIndex</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">whiteCol</span><span class="hl-1"> = </span><span class="hl-7">board</span><span class="hl-1">[</span><span class="hl-7">whiteIndex</span><span class="hl-1">].</span><span class="hl-6">indexOf</span><span class="hl-1">(</span><span class="hl-9">&#39;B&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-1">  </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-7">blackRow</span><span class="hl-1"> === </span><span class="hl-7">whiteRow</span><span class="hl-1"> || </span><span class="hl-7">blackCol</span><span class="hl-1"> === </span><span class="hl-7">whiteCol</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-7">Math</span><span class="hl-1">.</span><span class="hl-6">abs</span><span class="hl-1">(</span><span class="hl-7">blackRow</span><span class="hl-1"> - </span><span class="hl-7">whiteRow</span><span class="hl-1">) === </span><span class="hl-7">Math</span><span class="hl-1">.</span><span class="hl-6">abs</span><span class="hl-1">(</span><span class="hl-7">blackCol</span><span class="hl-1"> - </span><span class="hl-7">whiteCol</span><span class="hl-1">)) {</span><br/><span class="hl-1">    </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-2">false</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/>
</code></pre>

<a href="#ejercicio-4---reimplementando-la-función-map-" id="ejercicio-4---reimplementando-la-función-map-" style="color: inherit; text-decoration: none;">
  <h3>Ejercicio 4 - Reimplementando la función map <a name="ejercicio-4"></a></h3>
</a>
<blockquote>
<p><a href="#%C3%ADndice">Volver al índice</a></p>
</blockquote>
<blockquote>
<p>Implemente una función que emule el comportamiento de la función map proporcionada por el lenguaje sin hacer 
uso esta última. La función map actúa sobre una colección de elementos, modificando el valor de cada uno de 
ellos en base a un callback que se le pasa como argumento.</p>
<p>Teniendo en cuenta lo anterior, escriba una función myMap que reciba una colección (array) de valores numéricos 
como primer argumento, además de un callback que permita modificar cada elemento de la colección como segundo 
argumento. La función deberá devolver la colección modificada.</p>
<p>Un ejemplo de invocación podría ser:</p>
<p>myMap([0, 1, 2, 3, 4], (item) =&gt; item * item) // It should return [0, 1, 4, 9, 16]</p>
</blockquote>

<a href="#solución-3" id="solución-3" style="color: inherit; text-decoration: none;">
  <h4>Solución:</h4>
</a>
<p>La función desarrollada myMap, que toma dos argumentos: una colección de números como un array y un callback que recibe un número y devuelve otro número.</p>
<p>La función myMap itera sobre cada elemento de la colección y aplica el callback a cada uno de ellos. El valor devuelto por el callback se agrega al array result. La función devuelve el array result con los valores modificados.</p>
<pre><code class="language-typescript"><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">function</span><span class="hl-1"> </span><span class="hl-6">myMap</span><span class="hl-1">(</span><span class="hl-7">collection</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">[], </span><span class="hl-6">callback</span><span class="hl-1">: (</span><span class="hl-7">num</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> </span><span class="hl-3">number</span><span class="hl-1">): </span><span class="hl-3">number</span><span class="hl-1">[] {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">result</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">[] = [];</span><br/><span class="hl-1">    </span><span class="hl-0">for</span><span class="hl-1"> (</span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-7">i</span><span class="hl-1"> = </span><span class="hl-5">0</span><span class="hl-1">; </span><span class="hl-7">i</span><span class="hl-1"> &lt; </span><span class="hl-7">collection</span><span class="hl-1">.</span><span class="hl-7">length</span><span class="hl-1">; </span><span class="hl-7">i</span><span class="hl-1">++) {</span><br/><span class="hl-1">      </span><span class="hl-7">result</span><span class="hl-1">.</span><span class="hl-6">push</span><span class="hl-1">(</span><span class="hl-6">callback</span><span class="hl-1">(</span><span class="hl-7">collection</span><span class="hl-1">[</span><span class="hl-7">i</span><span class="hl-1">]));</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-7">result</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span>
</code></pre>
<p>En resumen, la función myMap permite modificar cada elemento de una colección de números utilizando una función de callback y devuelve la colección modificada. Esta función emula el comportamiento de la función nativa map.</p>

<a href="#tests-2" id="tests-2" style="color: inherit; text-decoration: none;">
  <h4>Tests:</h4>
</a>
<p>En cuanto a los tests unitarios para la función myMap, que verifican su comportamiento, testeamos diferentes casos:</p>
<pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-7">describe</span><span class="hl-1">, </span><span class="hl-7">it</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-9">&#39;mocha&#39;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-7">expect</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-9">&quot;chai&quot;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-7">myMap</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-9">&#39;../src/ejercicio04&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">describe</span><span class="hl-1">(</span><span class="hl-9">&quot;myMap&quot;</span><span class="hl-1">, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-6">it</span><span class="hl-1">(</span><span class="hl-9">&quot;should return an empty array when given an empty array&quot;</span><span class="hl-1">, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">result</span><span class="hl-1"> = </span><span class="hl-6">myMap</span><span class="hl-1">([], (</span><span class="hl-7">num</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> </span><span class="hl-7">num</span><span class="hl-1"> * </span><span class="hl-7">num</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-6">expect</span><span class="hl-1">(</span><span class="hl-7">result</span><span class="hl-1">).</span><span class="hl-7">to</span><span class="hl-1">.</span><span class="hl-7">deep</span><span class="hl-1">.</span><span class="hl-6">equal</span><span class="hl-1">([]);</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">  </span><br/><span class="hl-1">    </span><span class="hl-6">it</span><span class="hl-1">(</span><span class="hl-9">&quot;should return a new array with the values squared&quot;</span><span class="hl-1">, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">arr</span><span class="hl-1"> = [</span><span class="hl-5">0</span><span class="hl-1">, </span><span class="hl-5">1</span><span class="hl-1">, </span><span class="hl-5">2</span><span class="hl-1">, </span><span class="hl-5">3</span><span class="hl-1">, </span><span class="hl-5">4</span><span class="hl-1">];</span><br/><span class="hl-1">      </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">result</span><span class="hl-1"> = </span><span class="hl-6">myMap</span><span class="hl-1">(</span><span class="hl-7">arr</span><span class="hl-1">, (</span><span class="hl-7">num</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> </span><span class="hl-7">num</span><span class="hl-1"> * </span><span class="hl-7">num</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-6">expect</span><span class="hl-1">(</span><span class="hl-7">result</span><span class="hl-1">).</span><span class="hl-7">to</span><span class="hl-1">.</span><span class="hl-7">deep</span><span class="hl-1">.</span><span class="hl-6">equal</span><span class="hl-1">([</span><span class="hl-5">0</span><span class="hl-1">, </span><span class="hl-5">1</span><span class="hl-1">, </span><span class="hl-5">4</span><span class="hl-1">, </span><span class="hl-5">9</span><span class="hl-1">, </span><span class="hl-5">16</span><span class="hl-1">]);</span><br/><span class="hl-1">      </span><span class="hl-6">expect</span><span class="hl-1">(</span><span class="hl-7">arr</span><span class="hl-1">).</span><span class="hl-7">to</span><span class="hl-1">.</span><span class="hl-7">deep</span><span class="hl-1">.</span><span class="hl-6">equal</span><span class="hl-1">([</span><span class="hl-5">0</span><span class="hl-1">, </span><span class="hl-5">1</span><span class="hl-1">, </span><span class="hl-5">2</span><span class="hl-1">, </span><span class="hl-5">3</span><span class="hl-1">, </span><span class="hl-5">4</span><span class="hl-1">]); </span><span class="hl-8">// Ensure the original array is not modified</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">  </span><br/><span class="hl-1">    </span><span class="hl-6">it</span><span class="hl-1">(</span><span class="hl-9">&quot;should return a new array with the values doubled&quot;</span><span class="hl-1">, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">arr</span><span class="hl-1"> = [</span><span class="hl-5">1</span><span class="hl-1">, </span><span class="hl-5">2</span><span class="hl-1">, </span><span class="hl-5">3</span><span class="hl-1">];</span><br/><span class="hl-1">      </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">result</span><span class="hl-1"> = </span><span class="hl-6">myMap</span><span class="hl-1">(</span><span class="hl-7">arr</span><span class="hl-1">, (</span><span class="hl-7">num</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> </span><span class="hl-7">num</span><span class="hl-1"> * </span><span class="hl-5">2</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-6">expect</span><span class="hl-1">(</span><span class="hl-7">result</span><span class="hl-1">).</span><span class="hl-7">to</span><span class="hl-1">.</span><span class="hl-7">deep</span><span class="hl-1">.</span><span class="hl-6">equal</span><span class="hl-1">([</span><span class="hl-5">2</span><span class="hl-1">, </span><span class="hl-5">4</span><span class="hl-1">, </span><span class="hl-5">6</span><span class="hl-1">]);</span><br/><span class="hl-1">      </span><span class="hl-6">expect</span><span class="hl-1">(</span><span class="hl-7">arr</span><span class="hl-1">).</span><span class="hl-7">to</span><span class="hl-1">.</span><span class="hl-7">deep</span><span class="hl-1">.</span><span class="hl-6">equal</span><span class="hl-1">([</span><span class="hl-5">1</span><span class="hl-1">, </span><span class="hl-5">2</span><span class="hl-1">, </span><span class="hl-5">3</span><span class="hl-1">]); </span><span class="hl-8">// Ensure the original array is not modified</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">  });</span>
</code></pre>
<p>El primer test verifica que cuando se llama a myMap con una matriz vacía, el resultado debe ser una matriz vacía, el segundo test verifica que cuando se llama a myMap con una matriz de valores numéricos y una función de devolución de llamada que eleva al cuadrado cada valor, donde el resultado debe ser una nueva matriz con cada valor elevado al cuadrado. Además, el test también verifica que la matriz original no se modifica.</p>
<p>El tercer y último test verifica que cuando se llama a myMap con una matriz de valores numéricos y una función de devolución de llamada que duplica cada valor, el resultado debe ser una nueva matriz con cada valor duplicado. Además, el test también verifica que la matriz original no se modifica.</p>

<a href="#ejercicio-5---matrices-espirales-" id="ejercicio-5---matrices-espirales-" style="color: inherit; text-decoration: none;">
  <h3>Ejercicio 5 - Matrices espirales <a name="ejercicio-5"></a></h3>
</a>
<blockquote>
<p><a href="#%C3%ADndice">Volver al índice</a></p>
</blockquote>
<blockquote>
<p>Escriba una función getSpiralMatrix que, dado un entero positivo n representando el tamaño de una matriz cuadrada, 
devuelva una matriz (array bidimensional) con todos los números enteros en el rango [1, n*n] y que estén dispuestos 
en la matriz conformando una espiral. La espiral debe comenzar en la primera fila y columna de la matriz e irse 
completando siguiendo las agujas del reloj.</p>
<p>Ejemplos:</p>
<p>getSpiralMatrix(3)  It should return [
                                         [1, 2, 3],
                                         [8, 9, 4],
                                         [7, 6, 5]
                                       ] 
getSpiralMatrix(4)  It should return [
    [ 1,  2,  3, 4],
    [12, 13, 14, 5],
    [11, 16, 15, 6],
    [10,  9,  8 ,7]
  ] 
getSpiralMatrix(5)  It should return [
    [ 1,   2,  3,  4, 5],
    [ 16, 17, 18, 19, 6],
    [ 15, 24, 25, 20, 7],
    [ 14, 23, 22, 21, 8],
    [ 13, 12, 11, 10, 9],
  ]</p>
</blockquote>

<a href="#solución-4" id="solución-4" style="color: inherit; text-decoration: none;">
  <h4>Solución:</h4>
</a>
<p>Definimos una función getSpiralMatrix que recibe un número entero n como argumento y devuelve una matriz bidimensional de tamaño n x n que representa una matriz en espiral.</p>
<p>Primero, se inicializa una matriz bidimensional vacía result de tamaño n x n utilizando la función Array.from() con una función de mapeo que devuelve una matriz vacía para cada fila de la matriz resultante.</p>
<p>Luego, se inicializan varias variables para realizar un seguimiento del recorrido de la matriz en espiral. counter se utiliza para mantener el valor que se va a asignar en cada celda de la matriz, startRow y endRow se utilizan para realizar un seguimiento de las filas que quedan por recorrer, y startCol y endCol se utilizan para realizar un seguimiento de las columnas que quedan por recorrer.</p>
<p>El bucle while se ejecuta mientras las columnas iniciales no superen a las columnas finales y las filas iniciales no superen a las filas finales.</p>
<p>Para recorrer la matriz en espiral, se siguen cuatro pasos principales, cada uno de los cuales recorre una fila o columna en la dirección correspondiente y asigna el valor correspondiente en la celda de la matriz.</p>
<pre><code class="language-typescript"><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">function</span><span class="hl-1"> </span><span class="hl-6">getSpiralMatrix</span><span class="hl-1">(</span><span class="hl-7">n</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">): </span><span class="hl-3">number</span><span class="hl-1">[][] {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">result</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">[][] = </span><span class="hl-7">Array</span><span class="hl-1">.</span><span class="hl-6">from</span><span class="hl-1">({ </span><span class="hl-7">length:</span><span class="hl-1"> </span><span class="hl-7">n</span><span class="hl-1"> }, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> []);</span><br/><span class="hl-1">    </span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-7">counter</span><span class="hl-1"> = </span><span class="hl-5">1</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-7">startRow</span><span class="hl-1"> = </span><span class="hl-5">0</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-7">endRow</span><span class="hl-1"> = </span><span class="hl-7">n</span><span class="hl-1"> - </span><span class="hl-5">1</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-7">startCol</span><span class="hl-1"> = </span><span class="hl-5">0</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-7">endCol</span><span class="hl-1"> = </span><span class="hl-7">n</span><span class="hl-1"> - </span><span class="hl-5">1</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><br/><span class="hl-1">    </span><span class="hl-0">while</span><span class="hl-1"> (</span><span class="hl-7">startCol</span><span class="hl-1"> &lt;= </span><span class="hl-7">endCol</span><span class="hl-1"> &amp;&amp; </span><span class="hl-7">startRow</span><span class="hl-1"> &lt;= </span><span class="hl-7">endRow</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><br/><span class="hl-1">      </span><span class="hl-8">// Top row</span><br/><span class="hl-1">      </span><span class="hl-0">for</span><span class="hl-1"> (</span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-7">i</span><span class="hl-1"> = </span><span class="hl-7">startCol</span><span class="hl-1">; </span><span class="hl-7">i</span><span class="hl-1"> &lt;= </span><span class="hl-7">endCol</span><span class="hl-1">; </span><span class="hl-7">i</span><span class="hl-1">++) {</span><br/><span class="hl-1">        </span><span class="hl-7">result</span><span class="hl-1">[</span><span class="hl-7">startRow</span><span class="hl-1">][</span><span class="hl-7">i</span><span class="hl-1">] = </span><span class="hl-7">counter</span><span class="hl-1">++;</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">      </span><span class="hl-7">startRow</span><span class="hl-1">++;</span><br/><span class="hl-1">  </span><br/><span class="hl-1">      </span><span class="hl-8">// Right column</span><br/><span class="hl-1">      </span><span class="hl-0">for</span><span class="hl-1"> (</span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-7">i</span><span class="hl-1"> = </span><span class="hl-7">startRow</span><span class="hl-1">; </span><span class="hl-7">i</span><span class="hl-1"> &lt;= </span><span class="hl-7">endRow</span><span class="hl-1">; </span><span class="hl-7">i</span><span class="hl-1">++) {</span><br/><span class="hl-1">        </span><span class="hl-7">result</span><span class="hl-1">[</span><span class="hl-7">i</span><span class="hl-1">][</span><span class="hl-7">endCol</span><span class="hl-1">] = </span><span class="hl-7">counter</span><span class="hl-1">++;</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">      </span><span class="hl-7">endCol</span><span class="hl-1">--;</span><br/><span class="hl-1">  </span><br/><span class="hl-1">      </span><span class="hl-8">// Bottom row</span><br/><span class="hl-1">      </span><span class="hl-0">for</span><span class="hl-1"> (</span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-7">i</span><span class="hl-1"> = </span><span class="hl-7">endCol</span><span class="hl-1">; </span><span class="hl-7">i</span><span class="hl-1"> &gt;= </span><span class="hl-7">startCol</span><span class="hl-1"> &amp;&amp; </span><span class="hl-7">startRow</span><span class="hl-1"> &lt;= </span><span class="hl-7">endRow</span><span class="hl-1">; </span><span class="hl-7">i</span><span class="hl-1">--) {</span><br/><span class="hl-1">        </span><span class="hl-7">result</span><span class="hl-1">[</span><span class="hl-7">endRow</span><span class="hl-1">][</span><span class="hl-7">i</span><span class="hl-1">] = </span><span class="hl-7">counter</span><span class="hl-1">++;</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">      </span><span class="hl-7">endRow</span><span class="hl-1">--;</span><br/><span class="hl-1">  </span><br/><span class="hl-1">      </span><span class="hl-8">// Left column</span><br/><span class="hl-1">      </span><span class="hl-0">for</span><span class="hl-1"> (</span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-7">i</span><span class="hl-1"> = </span><span class="hl-7">endRow</span><span class="hl-1">; </span><span class="hl-7">i</span><span class="hl-1"> &gt;= </span><span class="hl-7">startRow</span><span class="hl-1"> &amp;&amp; </span><span class="hl-7">startCol</span><span class="hl-1"> &lt;= </span><span class="hl-7">endCol</span><span class="hl-1">; </span><span class="hl-7">i</span><span class="hl-1">--) {</span><br/><span class="hl-1">        </span><span class="hl-7">result</span><span class="hl-1">[</span><span class="hl-7">i</span><span class="hl-1">][</span><span class="hl-7">startCol</span><span class="hl-1">] = </span><span class="hl-7">counter</span><span class="hl-1">++;</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">      </span><span class="hl-7">startCol</span><span class="hl-1">++;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  </span><br/><span class="hl-1">    </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-7">result</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span>
</code></pre>
<p>El primer paso recorre la fila superior de la matriz de izquierda a derecha, asignando valores en cada celda.
El segundo paso recorre la columna derecha de la matriz de arriba a abajo, asignando valores en cada celda.
El tercer paso recorre la fila inferior de la matriz de derecha a izquierda, asignando valores en cada celda.
El cuarto paso recorre la columna izquierda de la matriz de abajo hacia arriba, asignando valores en cada celda.
Después de cada paso, se ajustan las variables de seguimiento de filas y columnas según corresponda.</p>
<p>Finalmente, se devuelve la matriz resultante result.</p>

<a href="#tests-3" id="tests-3" style="color: inherit; text-decoration: none;">
  <h4>Tests:</h4>
</a>
<p>A continuación realizamos los tests correspondientes para nuestro código:</p>
<pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-7">describe</span><span class="hl-1">, </span><span class="hl-7">it</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-9">&#39;mocha&#39;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-7">expect</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-9">&quot;chai&quot;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-7">getSpiralMatrix</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-9">&#39;../src/ejercicio05&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">describe</span><span class="hl-1">(</span><span class="hl-9">&#39;getSpiralMatrix function&#39;</span><span class="hl-1">, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">it</span><span class="hl-1">(</span><span class="hl-9">&#39;should return the correct spiral matrix for n=3&#39;</span><span class="hl-1">, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">expected</span><span class="hl-1"> = [</span><br/><span class="hl-1">      [</span><span class="hl-5">1</span><span class="hl-1">, </span><span class="hl-5">2</span><span class="hl-1">, </span><span class="hl-5">3</span><span class="hl-1">],</span><br/><span class="hl-1">      [</span><span class="hl-5">8</span><span class="hl-1">, </span><span class="hl-5">9</span><span class="hl-1">, </span><span class="hl-5">4</span><span class="hl-1">],</span><br/><span class="hl-1">      [</span><span class="hl-5">7</span><span class="hl-1">, </span><span class="hl-5">6</span><span class="hl-1">, </span><span class="hl-5">5</span><span class="hl-1">]</span><br/><span class="hl-1">    ];</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">actual</span><span class="hl-1"> = </span><span class="hl-6">getSpiralMatrix</span><span class="hl-1">(</span><span class="hl-5">3</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-6">expect</span><span class="hl-1">(</span><span class="hl-7">actual</span><span class="hl-1">).</span><span class="hl-7">to</span><span class="hl-1">.</span><span class="hl-7">deep</span><span class="hl-1">.</span><span class="hl-6">equal</span><span class="hl-1">(</span><span class="hl-7">expected</span><span class="hl-1">);</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-1">  </span><span class="hl-6">it</span><span class="hl-1">(</span><span class="hl-9">&#39;should return the correct spiral matrix for n=4&#39;</span><span class="hl-1">, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">expected</span><span class="hl-1"> = [</span><br/><span class="hl-1">      [ </span><span class="hl-5">1</span><span class="hl-1">,  </span><span class="hl-5">2</span><span class="hl-1">,  </span><span class="hl-5">3</span><span class="hl-1">, </span><span class="hl-5">4</span><span class="hl-1">],</span><br/><span class="hl-1">      [</span><span class="hl-5">12</span><span class="hl-1">, </span><span class="hl-5">13</span><span class="hl-1">, </span><span class="hl-5">14</span><span class="hl-1">, </span><span class="hl-5">5</span><span class="hl-1">],</span><br/><span class="hl-1">      [</span><span class="hl-5">11</span><span class="hl-1">, </span><span class="hl-5">16</span><span class="hl-1">, </span><span class="hl-5">15</span><span class="hl-1">, </span><span class="hl-5">6</span><span class="hl-1">],</span><br/><span class="hl-1">      [</span><span class="hl-5">10</span><span class="hl-1">,  </span><span class="hl-5">9</span><span class="hl-1">,  </span><span class="hl-5">8</span><span class="hl-1"> ,</span><span class="hl-5">7</span><span class="hl-1">]</span><br/><span class="hl-1">    ];</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">actual</span><span class="hl-1"> = </span><span class="hl-6">getSpiralMatrix</span><span class="hl-1">(</span><span class="hl-5">4</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-6">expect</span><span class="hl-1">(</span><span class="hl-7">actual</span><span class="hl-1">).</span><span class="hl-7">to</span><span class="hl-1">.</span><span class="hl-7">deep</span><span class="hl-1">.</span><span class="hl-6">equal</span><span class="hl-1">(</span><span class="hl-7">expected</span><span class="hl-1">);</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-1">  </span><span class="hl-6">it</span><span class="hl-1">(</span><span class="hl-9">&#39;should return the correct spiral matrix for n=5&#39;</span><span class="hl-1">, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">expected</span><span class="hl-1"> = [</span><br/><span class="hl-1">      [ </span><span class="hl-5">1</span><span class="hl-1">,   </span><span class="hl-5">2</span><span class="hl-1">,  </span><span class="hl-5">3</span><span class="hl-1">,  </span><span class="hl-5">4</span><span class="hl-1">, </span><span class="hl-5">5</span><span class="hl-1">],</span><br/><span class="hl-1">      [</span><span class="hl-5">16</span><span class="hl-1">, </span><span class="hl-5">17</span><span class="hl-1">, </span><span class="hl-5">18</span><span class="hl-1">, </span><span class="hl-5">19</span><span class="hl-1">, </span><span class="hl-5">6</span><span class="hl-1">],</span><br/><span class="hl-1">      [</span><span class="hl-5">15</span><span class="hl-1">, </span><span class="hl-5">24</span><span class="hl-1">, </span><span class="hl-5">25</span><span class="hl-1">, </span><span class="hl-5">20</span><span class="hl-1">, </span><span class="hl-5">7</span><span class="hl-1">],</span><br/><span class="hl-1">      [</span><span class="hl-5">14</span><span class="hl-1">, </span><span class="hl-5">23</span><span class="hl-1">, </span><span class="hl-5">22</span><span class="hl-1">, </span><span class="hl-5">21</span><span class="hl-1">, </span><span class="hl-5">8</span><span class="hl-1">],</span><br/><span class="hl-1">      [</span><span class="hl-5">13</span><span class="hl-1">, </span><span class="hl-5">12</span><span class="hl-1">, </span><span class="hl-5">11</span><span class="hl-1">, </span><span class="hl-5">10</span><span class="hl-1">, </span><span class="hl-5">9</span><span class="hl-1">],</span><br/><span class="hl-1">    ];</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">actual</span><span class="hl-1"> = </span><span class="hl-6">getSpiralMatrix</span><span class="hl-1">(</span><span class="hl-5">5</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-6">expect</span><span class="hl-1">(</span><span class="hl-7">actual</span><span class="hl-1">).</span><span class="hl-7">to</span><span class="hl-1">.</span><span class="hl-7">deep</span><span class="hl-1">.</span><span class="hl-6">equal</span><span class="hl-1">(</span><span class="hl-7">expected</span><span class="hl-1">);</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">});</span><br/>
</code></pre>
<p>Estos tests verifican el comportamiento de la función getSpiralMatrix(n: number): number[][], la cual debe generar una matriz en espiral de tamaño n x n con valores enteros consecutivos desde 1 hasta n*n.</p>
<p>El primer test verifica si la función retorna la matriz espiral correcta para n=3. Se define la matriz esperada (expected) y se llama a la función con el valor de n correspondiente. Luego se utiliza la función deep.equal del módulo chai para verificar si el valor retornado por la función es igual al valor esperado.</p>
<p>El segundo test es similar al primero, pero esta vez verifica si la función retorna la matriz espiral correcta para n=4.</p>
<p>El tercer test también verifica si la función retorna la matriz espiral correcta, pero esta vez para n=5.</p>
<p>En todos los casos se verifica si el valor retornado por la función (actual) es igual al valor esperado (expected) utilizando la función deep.equal del módulo chai.</p>

<a href="#ejercicio-6---compresión-de-números-en-rangos-" id="ejercicio-6---compresión-de-números-en-rangos-" style="color: inherit; text-decoration: none;">
  <h3>Ejercicio 6 - Compresión de números en rangos <a name="ejercicio-6"></a></h3>
</a>
<blockquote>
<p><a href="#%C3%ADndice">Volver al índice</a></p>
</blockquote>
<blockquote>
<p>Escriba una función fromArrayToRanges que reciba un array o lista de números enteros y los comprima en rangos, 
es decir, que devuelva una cadena de caracteres con la compresión obtenida. Un rango, es decir, un conjunto de 
números consecutivos se representará mediante una cadena de caracteres con el primer y último número del rango 
separado por un guión bajo (_). Un rango de un único número será la cadena de caracteres que representa a ese 
ùnico número. Luego, una serie de rangos vendrá separada por comas (,).</p>
<p>Ejemplos:</p>
<p>[5, 6, 7, 9, 12, 13, 14] =&gt; “5_7, 9, 12_14”
[-3, -2, -1, 3, 5, 6, 7] =&gt; “-3_-1, 3, 5_7”
[17] =&gt; “17”
[3, 5, 6, 7, 9, 10] =&gt; “3, 5_7, 9_10”</p>
<p>Escriba una función fromRangesToArray que lleve a cabo la operación inversa, es decir, que reciba como 
argumento una cadena de caracteres representando una serie de rangos y devuelva el array de números 
correspondiente.</p>
</blockquote>

<a href="#solución-5" id="solución-5" style="color: inherit; text-decoration: none;">
  <h4>Solución:</h4>
</a>
<p>El siguiente código exporta tres funciones relacionadas con la conversión de arreglos de números a cadenas que representan rangos y viceversa:</p>
<pre><code class="language-typescript"><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">type</span><span class="hl-1"> </span><span class="hl-3">Range</span><span class="hl-1"> = [</span><span class="hl-3">number</span><span class="hl-1">, </span><span class="hl-3">number</span><span class="hl-1">];</span><br/><br/><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">function</span><span class="hl-1"> </span><span class="hl-6">fromArrayToRanges</span><span class="hl-1">(</span><span class="hl-7">arr</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">[]): </span><span class="hl-3">string</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-7">arr</span><span class="hl-1">.</span><span class="hl-7">length</span><span class="hl-1"> === </span><span class="hl-5">0</span><span class="hl-1">) </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-9">&quot;&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-7">result</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">[] = [];</span><br/><span class="hl-1">  </span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-7">currentRange</span><span class="hl-1">: </span><span class="hl-3">Range</span><span class="hl-1"> = [</span><span class="hl-7">arr</span><span class="hl-1">[</span><span class="hl-5">0</span><span class="hl-1">], </span><span class="hl-7">arr</span><span class="hl-1">[</span><span class="hl-5">0</span><span class="hl-1">]];</span><br/><br/><span class="hl-1">  </span><span class="hl-0">for</span><span class="hl-1"> (</span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-7">i</span><span class="hl-1"> = </span><span class="hl-5">1</span><span class="hl-1">; </span><span class="hl-7">i</span><span class="hl-1"> &lt; </span><span class="hl-7">arr</span><span class="hl-1">.</span><span class="hl-7">length</span><span class="hl-1">; </span><span class="hl-7">i</span><span class="hl-1">++) {</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-7">arr</span><span class="hl-1">[</span><span class="hl-7">i</span><span class="hl-1">] === </span><span class="hl-7">currentRange</span><span class="hl-1">[</span><span class="hl-5">1</span><span class="hl-1">] + </span><span class="hl-5">1</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-7">currentRange</span><span class="hl-1">[</span><span class="hl-5">1</span><span class="hl-1">] = </span><span class="hl-7">arr</span><span class="hl-1">[</span><span class="hl-7">i</span><span class="hl-1">];</span><br/><span class="hl-1">    } </span><span class="hl-0">else</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-7">result</span><span class="hl-1">.</span><span class="hl-6">push</span><span class="hl-1">(</span><span class="hl-6">getRangeString</span><span class="hl-1">(</span><span class="hl-7">currentRange</span><span class="hl-1">));</span><br/><span class="hl-1">      </span><span class="hl-7">currentRange</span><span class="hl-1"> = [</span><span class="hl-7">arr</span><span class="hl-1">[</span><span class="hl-7">i</span><span class="hl-1">], </span><span class="hl-7">arr</span><span class="hl-1">[</span><span class="hl-7">i</span><span class="hl-1">]];</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><span class="hl-7">result</span><span class="hl-1">.</span><span class="hl-6">push</span><span class="hl-1">(</span><span class="hl-6">getRangeString</span><span class="hl-1">(</span><span class="hl-7">currentRange</span><span class="hl-1">));</span><br/><br/><span class="hl-1">  </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-7">result</span><span class="hl-1">.</span><span class="hl-6">join</span><span class="hl-1">(</span><span class="hl-9">&quot;, &quot;</span><span class="hl-1">);</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">function</span><span class="hl-1"> </span><span class="hl-6">getRangeString</span><span class="hl-1">(</span><span class="hl-7">range</span><span class="hl-1">: </span><span class="hl-3">Range</span><span class="hl-1">): </span><span class="hl-3">string</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-7">range</span><span class="hl-1">[</span><span class="hl-5">0</span><span class="hl-1">] === </span><span class="hl-7">range</span><span class="hl-1">[</span><span class="hl-5">1</span><span class="hl-1">] ? </span><span class="hl-7">range</span><span class="hl-1">[</span><span class="hl-5">0</span><span class="hl-1">].</span><span class="hl-6">toString</span><span class="hl-1">() : </span><span class="hl-9">`</span><span class="hl-2">${</span><span class="hl-7">range</span><span class="hl-10">[</span><span class="hl-5">0</span><span class="hl-10">]</span><span class="hl-2">}</span><span class="hl-9">_</span><span class="hl-2">${</span><span class="hl-7">range</span><span class="hl-10">[</span><span class="hl-5">1</span><span class="hl-10">]</span><span class="hl-2">}</span><span class="hl-9">`</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">function</span><span class="hl-1"> </span><span class="hl-6">fromRangesToArray</span><span class="hl-1">(</span><span class="hl-7">ranges</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">): </span><span class="hl-3">number</span><span class="hl-1">[] {</span><br/><span class="hl-1">  </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-7">ranges</span><span class="hl-1">.</span><span class="hl-6">trim</span><span class="hl-1">() === </span><span class="hl-9">&quot;&quot;</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-0">return</span><span class="hl-1"> [];</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-7">result</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">[] = [];</span><br/><span class="hl-1">  </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">rangeStrings</span><span class="hl-1"> = </span><span class="hl-7">ranges</span><span class="hl-1">.</span><span class="hl-6">split</span><span class="hl-1">(</span><span class="hl-9">&quot;, &quot;</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-0">for</span><span class="hl-1"> (</span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-7">rangeStr</span><span class="hl-1"> </span><span class="hl-2">of</span><span class="hl-1"> </span><span class="hl-7">rangeStrings</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">range</span><span class="hl-1"> = </span><span class="hl-7">rangeStr</span><span class="hl-1">.</span><span class="hl-6">split</span><span class="hl-1">(</span><span class="hl-9">&quot;_&quot;</span><span class="hl-1">).</span><span class="hl-6">map</span><span class="hl-1">(</span><span class="hl-7">Number</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-7">range</span><span class="hl-1">.</span><span class="hl-7">length</span><span class="hl-1"> === </span><span class="hl-5">1</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-7">result</span><span class="hl-1">.</span><span class="hl-6">push</span><span class="hl-1">(</span><span class="hl-7">range</span><span class="hl-1">[</span><span class="hl-5">0</span><span class="hl-1">]);</span><br/><span class="hl-1">    } </span><span class="hl-0">else</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-0">for</span><span class="hl-1"> (</span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-7">i</span><span class="hl-1"> = </span><span class="hl-7">range</span><span class="hl-1">[</span><span class="hl-5">0</span><span class="hl-1">]; </span><span class="hl-7">i</span><span class="hl-1"> &lt;= </span><span class="hl-7">range</span><span class="hl-1">[</span><span class="hl-5">1</span><span class="hl-1">]; </span><span class="hl-7">i</span><span class="hl-1">++) {</span><br/><span class="hl-1">        </span><span class="hl-7">result</span><span class="hl-1">.</span><span class="hl-6">push</span><span class="hl-1">(</span><span class="hl-7">i</span><span class="hl-1">);</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-7">result</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>
<p>La primera función fromArrayToRanges toma un arreglo de números y lo convierte en una cadena que representa los rangos presentes en el arreglo. Por ejemplo, si se pasa un arreglo con [1,2,3,5,6,8,9] la función retornará la cadena &quot;1_3, 5_6, 8_9&quot;. La función utiliza un bucle for que itera por el arreglo y verifica si el número actual es igual al anterior más uno. Si es así, se agrega el número actual al rango actual. De lo contrario, se empuja el rango actual a la matriz de resultados y se crea un nuevo rango con el número actual. Al final del bucle, el último rango creado se agrega a la matriz de resultados.</p>
<p>La segunda función getRangeString toma un rango como argumento y retorna una cadena que representa el rango. Si el rango solo tiene un número, retorna ese número como una cadena. De lo contrario, retorna una cadena con el formato &quot;inicio_fin&quot;.</p>
<p>La tercera función fromRangesToArray toma una cadena de rangos y la convierte en un arreglo de números. Por ejemplo, si se pasa la cadena &quot;1_3, 5_6, 8_9&quot;, la función retornará el arreglo [1,2,3,5,6,8,9]. La función separa los rangos por la coma y luego itera por cada rango. Si el rango solo tiene un número, se agrega ese número al resultado. De lo contrario, se itera desde el inicio hasta el fin del rango y se agrega cada número al resultado.</p>

<a href="#tests-4" id="tests-4" style="color: inherit; text-decoration: none;">
  <h4>Tests:</h4>
</a>
<p>Definimos los siguientes tests para comprobar el funcionamiento de nuestro código:</p>
<pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-7">describe</span><span class="hl-1">, </span><span class="hl-7">it</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-9">&#39;mocha&#39;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-7">expect</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-9">&quot;chai&quot;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-7">fromArrayToRanges</span><span class="hl-1">, </span><span class="hl-7">fromRangesToArray</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-9">&quot;../src/ejercicio06&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">describe</span><span class="hl-1">(</span><span class="hl-9">&quot;fromArrayToRanges function&quot;</span><span class="hl-1">, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-6">it</span><span class="hl-1">(</span><span class="hl-9">&quot;should return an empty string for an empty array&quot;</span><span class="hl-1">, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">arr</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">[] = [];</span><br/><span class="hl-1">      </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">result</span><span class="hl-1"> = </span><span class="hl-6">fromArrayToRanges</span><span class="hl-1">(</span><span class="hl-7">arr</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-6">expect</span><span class="hl-1">(</span><span class="hl-7">result</span><span class="hl-1">).</span><span class="hl-7">to</span><span class="hl-1">.</span><span class="hl-6">equal</span><span class="hl-1">(</span><span class="hl-9">&quot;&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">  </span><br/><span class="hl-1">    </span><span class="hl-6">it</span><span class="hl-1">(</span><span class="hl-9">&quot;should compress the array into a string of ranges&quot;</span><span class="hl-1">, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">arr</span><span class="hl-1"> = [</span><span class="hl-5">5</span><span class="hl-1">, </span><span class="hl-5">6</span><span class="hl-1">, </span><span class="hl-5">7</span><span class="hl-1">, </span><span class="hl-5">9</span><span class="hl-1">, </span><span class="hl-5">12</span><span class="hl-1">, </span><span class="hl-5">13</span><span class="hl-1">, </span><span class="hl-5">14</span><span class="hl-1">];</span><br/><span class="hl-1">      </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">expected</span><span class="hl-1"> = </span><span class="hl-9">&quot;5_7, 9, 12_14&quot;</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">result</span><span class="hl-1"> = </span><span class="hl-6">fromArrayToRanges</span><span class="hl-1">(</span><span class="hl-7">arr</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-6">expect</span><span class="hl-1">(</span><span class="hl-7">result</span><span class="hl-1">).</span><span class="hl-7">to</span><span class="hl-1">.</span><span class="hl-6">equal</span><span class="hl-1">(</span><span class="hl-7">expected</span><span class="hl-1">);</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">  </span><br/><span class="hl-1">    </span><span class="hl-6">it</span><span class="hl-1">(</span><span class="hl-9">&quot;should handle negative numbers&quot;</span><span class="hl-1">, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">arr</span><span class="hl-1"> = [-</span><span class="hl-5">3</span><span class="hl-1">, -</span><span class="hl-5">2</span><span class="hl-1">, -</span><span class="hl-5">1</span><span class="hl-1">, </span><span class="hl-5">3</span><span class="hl-1">, </span><span class="hl-5">5</span><span class="hl-1">, </span><span class="hl-5">6</span><span class="hl-1">, </span><span class="hl-5">7</span><span class="hl-1">];</span><br/><span class="hl-1">      </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">expected</span><span class="hl-1"> = </span><span class="hl-9">&quot;-3_-1, 3, 5_7&quot;</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">result</span><span class="hl-1"> = </span><span class="hl-6">fromArrayToRanges</span><span class="hl-1">(</span><span class="hl-7">arr</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-6">expect</span><span class="hl-1">(</span><span class="hl-7">result</span><span class="hl-1">).</span><span class="hl-7">to</span><span class="hl-1">.</span><span class="hl-6">equal</span><span class="hl-1">(</span><span class="hl-7">expected</span><span class="hl-1">);</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">  </span><br/><span class="hl-1">    </span><span class="hl-6">it</span><span class="hl-1">(</span><span class="hl-9">&quot;should handle a single number&quot;</span><span class="hl-1">, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">arr</span><span class="hl-1"> = [</span><span class="hl-5">17</span><span class="hl-1">];</span><br/><span class="hl-1">      </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">expected</span><span class="hl-1"> = </span><span class="hl-9">&quot;17&quot;</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">result</span><span class="hl-1"> = </span><span class="hl-6">fromArrayToRanges</span><span class="hl-1">(</span><span class="hl-7">arr</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-6">expect</span><span class="hl-1">(</span><span class="hl-7">result</span><span class="hl-1">).</span><span class="hl-7">to</span><span class="hl-1">.</span><span class="hl-6">equal</span><span class="hl-1">(</span><span class="hl-7">expected</span><span class="hl-1">);</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">  </span><br/><span class="hl-1">    </span><span class="hl-6">it</span><span class="hl-1">(</span><span class="hl-9">&quot;should compress the array with multiple ranges&quot;</span><span class="hl-1">, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">arr</span><span class="hl-1"> = [</span><span class="hl-5">3</span><span class="hl-1">, </span><span class="hl-5">5</span><span class="hl-1">, </span><span class="hl-5">6</span><span class="hl-1">, </span><span class="hl-5">7</span><span class="hl-1">, </span><span class="hl-5">9</span><span class="hl-1">, </span><span class="hl-5">10</span><span class="hl-1">];</span><br/><span class="hl-1">      </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">expected</span><span class="hl-1"> = </span><span class="hl-9">&quot;3, 5_7, 9_10&quot;</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">result</span><span class="hl-1"> = </span><span class="hl-6">fromArrayToRanges</span><span class="hl-1">(</span><span class="hl-7">arr</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-6">expect</span><span class="hl-1">(</span><span class="hl-7">result</span><span class="hl-1">).</span><span class="hl-7">to</span><span class="hl-1">.</span><span class="hl-6">equal</span><span class="hl-1">(</span><span class="hl-7">expected</span><span class="hl-1">);</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">  </span><br/><span class="hl-6">describe</span><span class="hl-1">(</span><span class="hl-9">&quot;fromRangesToArray function&quot;</span><span class="hl-1">, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-6">it</span><span class="hl-1">(</span><span class="hl-9">&quot;should return an empty array for an empty string&quot;</span><span class="hl-1">, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">ranges</span><span class="hl-1"> = </span><span class="hl-9">&quot;&quot;</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">result</span><span class="hl-1"> = </span><span class="hl-6">fromRangesToArray</span><span class="hl-1">(</span><span class="hl-7">ranges</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-6">expect</span><span class="hl-1">(</span><span class="hl-7">result</span><span class="hl-1">).</span><span class="hl-7">to</span><span class="hl-1">.</span><span class="hl-7">deep</span><span class="hl-1">.</span><span class="hl-6">equal</span><span class="hl-1">([]);</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">  </span><br/><span class="hl-1">    </span><span class="hl-6">it</span><span class="hl-1">(</span><span class="hl-9">&quot;should expand a string of ranges into an array&quot;</span><span class="hl-1">, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">ranges</span><span class="hl-1"> = </span><span class="hl-9">&quot;5_7, 9, 12_14&quot;</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">expected</span><span class="hl-1"> = [</span><span class="hl-5">5</span><span class="hl-1">, </span><span class="hl-5">6</span><span class="hl-1">, </span><span class="hl-5">7</span><span class="hl-1">, </span><span class="hl-5">9</span><span class="hl-1">, </span><span class="hl-5">12</span><span class="hl-1">, </span><span class="hl-5">13</span><span class="hl-1">, </span><span class="hl-5">14</span><span class="hl-1">];</span><br/><span class="hl-1">      </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">result</span><span class="hl-1"> = </span><span class="hl-6">fromRangesToArray</span><span class="hl-1">(</span><span class="hl-7">ranges</span><span class="hl-1">);</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">});</span>
</code></pre>
<p>Los tests para fromArrayToRanges comprueban que la función maneje correctamente los siguientes casos:</p>
<p>Un array vacío
Un array con números positivos y negativos
Un array con un solo número
Un array con múltiples rangos</p>
<p>Por otro lado, la función fromRangesToArray hace lo contrario: toma una cadena de rangos y la expande en un array de números. Cada rango está representado por dos números separados por un guión bajo, y los rangos se separan con una coma y un espacio. Si un número no está en un rango, se muestra individualmente separado por comas y espacios. Por ejemplo, &quot;5_7, 9, 12_14&quot; se expandiría en [5, 6, 7, 9, 12, 13, 14].</p>
<p>Los tests para fromRangesToArray comprueban que la función maneje correctamente los siguientes casos:</p>
<p>Una cadena vacía
Una cadena con un solo número
Una cadena con múltiples rangos</p>

<a href="#ejercicio-7---mensaje-secreto-" id="ejercicio-7---mensaje-secreto-" style="color: inherit; text-decoration: none;">
  <h3>Ejercicio 7 - Mensaje secreto <a name="ejercicio-7"></a></h3>
</a>
<blockquote>
<p><a href="#%C3%ADndice">Volver al índice</a></p>
</blockquote>
<blockquote>
<p>Si desea realizar algún proyecto usando una Raspberry Pi, probablemente necesitará usar resistencias. 
Para este ejercicio necesita conocer dos cosas sobre las resistencias:</p>
<p>Cada resistor o resistencia tiene un valor de resistencia en Ohmios asociado. Además, las resistencias son 
tan pequeñas que si se les imprimiera el valor en ellas, sería muy difícil de leer. Para resolver este problema, 
los fabricantes siguen un estándar de bandas codificadas de colores para indicar sus valores de resistencia. 
Cada banda tiene una posición y un valor numérico.</p>
</blockquote>
<blockquote>
<p>Las primeras dos bandas de una resistencia tienen un esquema de codificación muy simple: cada color se mapea a un 
único número. Por ejemplo, si una resistencia tiene impresa una banda marrón (valor 1) seguida de una banda verde 
(valor 5), el valor de la resistencia se traduciría al número 15.</p>
</blockquote>
<blockquote>
<p>El objetivo de este ejercicio es crear un programa que nos ayude a calcular el valor de una resistencia sin tener 
que memorizar los valores de las bandas. Para ello, cree una función decodeResistor que recibe como parámetros 
los nombres de los colores de una resistencia como entrada y devuelve un número de dos dígitos indicando el 
valor de la resistencia. La función deberá devover un número de dos dígitos incluso si recibe más de dos colores 
como parámetros.</p>
<p>Las bandas de colores están codificadas de la siguiente manera:</p>
<p>Negro: 0
Marrón: 1
Rojo: 2
Naranja: 3
Amarillo: 4
Verde: 5
Azul: 6
Violeta: 7
Gris: 8
Blanco: 9</p>
</blockquote>
<blockquote>
<p>De este modo, la combinación Marrón-Verde debería devolver 15 al igual que Marrón-Verde-Violeta ignorando el 
tercer color.</p>
</blockquote>

<a href="#solución-6" id="solución-6" style="color: inherit; text-decoration: none;">
  <h4>Solución:</h4>
</a>
<p>Desarrollamos el siguiente código:</p>
<pre><code class="language-typescript"><span class="hl-2">type</span><span class="hl-1"> </span><span class="hl-3">ColorCode</span><span class="hl-1"> = { [</span><span class="hl-7">color</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">]: </span><span class="hl-3">number</span><span class="hl-1"> };</span><br/><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">colorCode</span><span class="hl-1">: </span><span class="hl-3">ColorCode</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;negro&quot;</span><span class="hl-7">:</span><span class="hl-1"> </span><span class="hl-5">0</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;marrón&quot;</span><span class="hl-7">:</span><span class="hl-1"> </span><span class="hl-5">1</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;rojo&quot;</span><span class="hl-7">:</span><span class="hl-1"> </span><span class="hl-5">2</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;naranja&quot;</span><span class="hl-7">:</span><span class="hl-1"> </span><span class="hl-5">3</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;amarillo&quot;</span><span class="hl-7">:</span><span class="hl-1"> </span><span class="hl-5">4</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;verde&quot;</span><span class="hl-7">:</span><span class="hl-1"> </span><span class="hl-5">5</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;azul&quot;</span><span class="hl-7">:</span><span class="hl-1"> </span><span class="hl-5">6</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;violeta&quot;</span><span class="hl-7">:</span><span class="hl-1"> </span><span class="hl-5">7</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;gris&quot;</span><span class="hl-7">:</span><span class="hl-1"> </span><span class="hl-5">8</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;blanco&quot;</span><span class="hl-7">:</span><span class="hl-1"> </span><span class="hl-5">9</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">function</span><span class="hl-1"> </span><span class="hl-6">decodeResistor</span><span class="hl-1">(</span><span class="hl-7">colors</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">[]): </span><span class="hl-3">number</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">firstBand</span><span class="hl-1"> = </span><span class="hl-7">colors</span><span class="hl-1">[</span><span class="hl-5">0</span><span class="hl-1">].</span><span class="hl-6">toLowerCase</span><span class="hl-1">();</span><br/><span class="hl-1">  </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">secondBand</span><span class="hl-1"> = </span><span class="hl-7">colors</span><span class="hl-1">[</span><span class="hl-5">1</span><span class="hl-1">].</span><span class="hl-6">toLowerCase</span><span class="hl-1">();</span><br/><span class="hl-1">  </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">resistanceValue</span><span class="hl-1"> = </span><span class="hl-7">colorCode</span><span class="hl-1">[</span><span class="hl-7">firstBand</span><span class="hl-1">] * </span><span class="hl-5">10</span><span class="hl-1"> + </span><span class="hl-7">colorCode</span><span class="hl-1">[</span><span class="hl-7">secondBand</span><span class="hl-1">];</span><br/><span class="hl-1">  </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-7">resistanceValue</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>
<p>El código define un objeto colorCode que contiene los valores numéricos asociados con cada color de una resistencia, y una función decodeResistor que toma un array de strings con los colores de la resistencia y devuelve el valor de la resistencia calculado a partir de los valores numéricos de los colores de la resistencia.</p>
<p>El algoritmo utilizado para calcular el valor de la resistencia a partir de los colores es multiplicar el valor del primer color por 10 y sumarle el valor del segundo color.</p>
<p>Los tests verifican que la función decodeResistor calcule correctamente el valor de la resistencia para diferentes combinaciones de colores. En particular, se verifican casos en los que se omitió el tercer color, ya que este color se utiliza para indicar la potencia de la resistencia y no se utiliza para calcular su valor.</p>

<a href="#tests-5" id="tests-5" style="color: inherit; text-decoration: none;">
  <h4>Tests:</h4>
</a>
<p>Desarrollamos los tests de nuestro código para comprobar su funcionamiento:</p>
<pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-7">describe</span><span class="hl-1">, </span><span class="hl-7">it</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-9">&#39;mocha&#39;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-7">expect</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-9">&quot;chai&quot;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-7">decodeResistor</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-9">&quot;../src/ejercicio07&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">describe</span><span class="hl-1">(</span><span class="hl-9">&quot;decodeResistor&quot;</span><span class="hl-1">, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">it</span><span class="hl-1">(</span><span class="hl-9">&quot;should return 15 when given [&#39;marrón&#39;, &#39;verde&#39;]&quot;</span><span class="hl-1">, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">result</span><span class="hl-1"> = </span><span class="hl-6">decodeResistor</span><span class="hl-1">([</span><span class="hl-9">&quot;marrón&quot;</span><span class="hl-1">, </span><span class="hl-9">&quot;verde&quot;</span><span class="hl-1">]);</span><br/><span class="hl-1">    </span><span class="hl-6">expect</span><span class="hl-1">(</span><span class="hl-7">result</span><span class="hl-1">).</span><span class="hl-7">to</span><span class="hl-1">.</span><span class="hl-6">equal</span><span class="hl-1">(</span><span class="hl-5">15</span><span class="hl-1">);</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-1">  </span><span class="hl-6">it</span><span class="hl-1">(</span><span class="hl-9">&quot;should return 15 when given [&#39;marrón&#39;, &#39;verde&#39;, &#39;violeta&#39;]&quot;</span><span class="hl-1">, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">result</span><span class="hl-1"> = </span><span class="hl-6">decodeResistor</span><span class="hl-1">([</span><span class="hl-9">&quot;marrón&quot;</span><span class="hl-1">, </span><span class="hl-9">&quot;verde&quot;</span><span class="hl-1">, </span><span class="hl-9">&quot;violeta&quot;</span><span class="hl-1">]);</span><br/><span class="hl-1">    </span><span class="hl-6">expect</span><span class="hl-1">(</span><span class="hl-7">result</span><span class="hl-1">).</span><span class="hl-7">to</span><span class="hl-1">.</span><span class="hl-6">equal</span><span class="hl-1">(</span><span class="hl-5">15</span><span class="hl-1">);</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-1">  </span><span class="hl-6">it</span><span class="hl-1">(</span><span class="hl-9">&quot;should return 29 when given [&#39;rojo&#39;, &#39;blanco&#39;]&quot;</span><span class="hl-1">, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">result</span><span class="hl-1"> = </span><span class="hl-6">decodeResistor</span><span class="hl-1">([</span><span class="hl-9">&quot;rojo&quot;</span><span class="hl-1">, </span><span class="hl-9">&quot;blanco&quot;</span><span class="hl-1">]);</span><br/><span class="hl-1">    </span><span class="hl-6">expect</span><span class="hl-1">(</span><span class="hl-7">result</span><span class="hl-1">).</span><span class="hl-7">to</span><span class="hl-1">.</span><span class="hl-6">equal</span><span class="hl-1">(</span><span class="hl-5">29</span><span class="hl-1">);</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-1">  </span><span class="hl-6">it</span><span class="hl-1">(</span><span class="hl-9">&quot;should return 36 when given [&#39;naranja&#39;, &#39;azul&#39;]&quot;</span><span class="hl-1">, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">result</span><span class="hl-1"> = </span><span class="hl-6">decodeResistor</span><span class="hl-1">([</span><span class="hl-9">&quot;naranja&quot;</span><span class="hl-1">, </span><span class="hl-9">&quot;azul&quot;</span><span class="hl-1">]);</span><br/><span class="hl-1">    </span><span class="hl-6">expect</span><span class="hl-1">(</span><span class="hl-7">result</span><span class="hl-1">).</span><span class="hl-7">to</span><span class="hl-1">.</span><span class="hl-6">equal</span><span class="hl-1">(</span><span class="hl-5">36</span><span class="hl-1">);</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">});</span>
</code></pre>
<p>Cada prueba en el bloque describe consiste en pasar diferentes combinaciones de colores de banda a la función y comprobar si devuelve el valor correcto. Por ejemplo, la primera prueba comprueba que si se pasan los colores &quot;marrón&quot; y &quot;verde&quot;, la función devuelve el valor 15, que es el valor de resistencia para un resistor con esas bandas de colores.</p>
<p>Se utiliza la librería mocha para definir y ejecutar las pruebas, y la librería chai para hacer las comprobaciones de igualdad (expect(result).to.equal(expected)).</p>

<a href="#ejercicio-8---wonder-woman-" id="ejercicio-8---wonder-woman-" style="color: inherit; text-decoration: none;">
  <h3>Ejercicio 8 - Wonder Woman <a name="ejercicio-8"></a></h3>
</a>
<blockquote>
<p><a href="#%C3%ADndice">Volver al índice</a></p>
</blockquote>
<blockquote>
<p>Dado un array que contiene exclusivamente cadenas de texto, comprobar que las palabras del array están encadenadas. 
Esto es, una o más letras del final de una cadena coinciden con el comienzo de la siguiente cadena del array.</p>
<p>Ejemplos de palabras encadenadas:</p>
<p>“apply” and “plywood”
“apple” and “each”
“behemoth” and “mother”</p>
<p>Ejemplos de palabras no encadenadas:</p>
<p>“apply” and “playground”
“apple” and “peggy”
“behemoth” and “mathematics</p>
<p>Para resolver este ejercicio, escriba una función meshArray que compruebe si las cadenas del array están 
encadenadas o no. La función recibirá como parámetro un array de cadenas de texto y devolverá:</p>
<p>“Error al encadenar” si las cadenas del array no están encadenadas.
Una cadena de texto que contenga las letras que encadenan las palabras del array. 
A priori no sabe cuantas letras encadenadas tendrán en común, pero al menos será una.</p>
<p>Ejemplos de ejecución del programa:</p>
<p>1: [“allow”, “lowering”, “ringmaster”, “terror”] –&gt; “lowringter”</p>
<p>Este array está encadenado porque:</p>
<p>Las letras “low” de la primera palabra encadenan con la palabra “lowering”.
Las letras “ring” en la segunda y tercera palabras están encadenadas.
Por último, las letras “ter” en las dos últimas palabras también están encadenadas.
2: [“kingdom”, “dominator”, “notorious”, “usual”, “allegory”] –&gt; “Error al encadenar”</p>
</blockquote>
<blockquote>
<p>En este caso, aunque las palabras “dominator” y “notorious” comparten letras en el mismo orden, las últimas 
letras de la primera palabra no encadenan con las primeras letras de la segunda.</p>
</blockquote>

<a href="#solución-7" id="solución-7" style="color: inherit; text-decoration: none;">
  <h4>Solución:</h4>
</a>
<p>El código que hemos desarrollado es el siguiente:</p>
<pre><code class="language-typescript"><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">function</span><span class="hl-1"> </span><span class="hl-6">meshArray</span><span class="hl-1">(</span><span class="hl-7">words</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">[]): </span><span class="hl-3">string</span><span class="hl-1"> | </span><span class="hl-9">&quot;Error al encadenar&quot;</span><span class="hl-1"> {</span><br/><span class="hl-1">     </span><br/><span class="hl-1">    </span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-7">meshedLetters</span><span class="hl-1"> = </span><span class="hl-9">&quot;&quot;</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><br/><span class="hl-1">    </span><span class="hl-0">for</span><span class="hl-1"> (</span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-7">i</span><span class="hl-1"> = </span><span class="hl-5">1</span><span class="hl-1">; </span><span class="hl-7">i</span><span class="hl-1"> &lt; </span><span class="hl-7">words</span><span class="hl-1">.</span><span class="hl-7">length</span><span class="hl-1">; </span><span class="hl-7">i</span><span class="hl-1">++) {</span><br/><span class="hl-1">      </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">currentWord</span><span class="hl-1"> = </span><span class="hl-7">words</span><span class="hl-1">[</span><span class="hl-7">i</span><span class="hl-1">];</span><br/><span class="hl-1">      </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">previousWord</span><span class="hl-1"> = </span><span class="hl-7">words</span><span class="hl-1">[</span><span class="hl-7">i</span><span class="hl-1"> - </span><span class="hl-5">1</span><span class="hl-1">];</span><br/><span class="hl-1">      </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">commonLetters</span><span class="hl-1"> = </span><span class="hl-6">findCommonLetters</span><span class="hl-1">(</span><span class="hl-7">previousWord</span><span class="hl-1">, </span><span class="hl-7">currentWord</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><br/><span class="hl-1">      </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-7">commonLetters</span><span class="hl-1"> === </span><span class="hl-9">&quot;&quot;</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-9">&quot;Error al encadenar&quot;</span><span class="hl-1">;</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">  </span><br/><span class="hl-1">      </span><span class="hl-7">meshedLetters</span><span class="hl-1"> += </span><span class="hl-7">commonLetters</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  </span><br/><span class="hl-1">    </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-7">meshedLetters</span><span class="hl-1">;</span><br/><span class="hl-1">  }  </span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-2">function</span><span class="hl-1"> </span><span class="hl-6">findCommonLetters</span><span class="hl-1">(</span><span class="hl-7">str1</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">, </span><span class="hl-7">str2</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">): </span><span class="hl-3">string</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">maxLength</span><span class="hl-1"> = </span><span class="hl-7">Math</span><span class="hl-1">.</span><span class="hl-6">min</span><span class="hl-1">(</span><span class="hl-7">str1</span><span class="hl-1">.</span><span class="hl-7">length</span><span class="hl-1">, </span><span class="hl-7">str2</span><span class="hl-1">.</span><span class="hl-7">length</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-7">commonLetters</span><span class="hl-1"> = </span><span class="hl-9">&quot;&quot;</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><br/><span class="hl-1">    </span><span class="hl-0">for</span><span class="hl-1"> (</span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-7">i</span><span class="hl-1"> = </span><span class="hl-5">1</span><span class="hl-1">; </span><span class="hl-7">i</span><span class="hl-1"> &lt;= </span><span class="hl-7">maxLength</span><span class="hl-1">; </span><span class="hl-7">i</span><span class="hl-1">++) {</span><br/><span class="hl-1">      </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">suffix</span><span class="hl-1"> = </span><span class="hl-7">str1</span><span class="hl-1">.</span><span class="hl-6">slice</span><span class="hl-1">(</span><span class="hl-7">str1</span><span class="hl-1">.</span><span class="hl-7">length</span><span class="hl-1"> - </span><span class="hl-7">i</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">prefix</span><span class="hl-1"> = </span><span class="hl-7">str2</span><span class="hl-1">.</span><span class="hl-6">slice</span><span class="hl-1">(</span><span class="hl-5">0</span><span class="hl-1">, </span><span class="hl-7">i</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><br/><span class="hl-1">      </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-7">suffix</span><span class="hl-1"> === </span><span class="hl-7">prefix</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-7">commonLetters</span><span class="hl-1"> = </span><span class="hl-7">suffix</span><span class="hl-1">;</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  </span><br/><span class="hl-1">    </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-7">commonLetters</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span>
</code></pre>
<p>El código define una función meshArray que toma como entrada un array de palabras y devuelve un string que contiene todas las letras que se encuentran en común entre las palabras consecutivas del array. Si no hay letras en común entre dos palabras consecutivas, la función devuelve la cadena &quot;Error al encadenar&quot;.</p>
<p>Para lograr esto, la función meshArray itera a través de las palabras del array, comparando cada palabra con la anterior utilizando la función findCommonLetters. Si las palabras no tienen letras en común, la función devuelve &quot;Error al encadenar&quot;, de lo contrario, la función agrega las letras comunes al string meshedLetters. Al final, la función devuelve meshedLetters.</p>
<p>La función findCommonLetters es una función auxiliar que toma dos strings como entrada y devuelve una cadena que contiene las letras que están presentes en ambos strings en el mismo orden. Para hacer esto, la función compara los sufijos de la primera palabra con los prefijos de la segunda palabra hasta encontrar el sufijo y el prefijo que son iguales. En ese punto, devuelve el sufijo como la cadena de letras comunes.</p>

<a href="#tests-6" id="tests-6" style="color: inherit; text-decoration: none;">
  <h4>Tests:</h4>
</a>
<p>Realizamos las pruebas del código, que son las siguientes:</p>
<pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-7">describe</span><span class="hl-1">, </span><span class="hl-7">it</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-9">&#39;mocha&#39;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-7">expect</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-9">&quot;chai&quot;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> {</span><span class="hl-7">meshArray</span><span class="hl-1">} </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-9">&quot;../src/ejercicio08&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">describe</span><span class="hl-1">(</span><span class="hl-9">&quot;meshArray&quot;</span><span class="hl-1">, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">it</span><span class="hl-1">(</span><span class="hl-9">&quot;should return &#39;lowringter&#39; when given [&#39;allow&#39;, &#39;lowering&#39;, &#39;ringmaster&#39;, &#39;terror&#39;]&quot;</span><span class="hl-1">, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">result</span><span class="hl-1"> = </span><span class="hl-6">meshArray</span><span class="hl-1">([</span><span class="hl-9">&quot;allow&quot;</span><span class="hl-1">, </span><span class="hl-9">&quot;lowering&quot;</span><span class="hl-1">, </span><span class="hl-9">&quot;ringmaster&quot;</span><span class="hl-1">, </span><span class="hl-9">&quot;terror&quot;</span><span class="hl-1">]);</span><br/><span class="hl-1">    </span><span class="hl-6">expect</span><span class="hl-1">(</span><span class="hl-7">result</span><span class="hl-1">).</span><span class="hl-7">to</span><span class="hl-1">.</span><span class="hl-6">equal</span><span class="hl-1">(</span><span class="hl-9">&quot;lowringter&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-1">  </span><span class="hl-6">it</span><span class="hl-1">(</span><span class="hl-9">&quot;should return &#39;Error al encadenar&#39; when given [&#39;kingdom&#39;, &#39;dominator&#39;, &#39;notorious&#39;, &#39;usual&#39;, &#39;allegory&#39;]&quot;</span><span class="hl-1">, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">result</span><span class="hl-1"> = </span><span class="hl-6">meshArray</span><span class="hl-1">([</span><span class="hl-9">&quot;kingdom&quot;</span><span class="hl-1">, </span><span class="hl-9">&quot;dominator&quot;</span><span class="hl-1">, </span><span class="hl-9">&quot;notorious&quot;</span><span class="hl-1">, </span><span class="hl-9">&quot;usual&quot;</span><span class="hl-1">, </span><span class="hl-9">&quot;allegory&quot;</span><span class="hl-1">]);</span><br/><span class="hl-1">    </span><span class="hl-6">expect</span><span class="hl-1">(</span><span class="hl-7">result</span><span class="hl-1">).</span><span class="hl-7">to</span><span class="hl-1">.</span><span class="hl-6">equal</span><span class="hl-1">(</span><span class="hl-9">&quot;Error al encadenar&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-1">  </span><span class="hl-6">it</span><span class="hl-1">(</span><span class="hl-9">&quot;should return &#39;ta&#39; when given [&#39;ta&#39;, &#39;ta&#39;]&quot;</span><span class="hl-1">, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">result</span><span class="hl-1"> = </span><span class="hl-6">meshArray</span><span class="hl-1">([</span><span class="hl-9">&quot;ta&quot;</span><span class="hl-1">, </span><span class="hl-9">&quot;ta&quot;</span><span class="hl-1">]);</span><br/><span class="hl-1">    </span><span class="hl-6">expect</span><span class="hl-1">(</span><span class="hl-7">result</span><span class="hl-1">).</span><span class="hl-7">to</span><span class="hl-1">.</span><span class="hl-6">equal</span><span class="hl-1">(</span><span class="hl-9">&quot;ta&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-1">  </span><span class="hl-6">it</span><span class="hl-1">(</span><span class="hl-9">&quot;should return &#39;&#39; when given [&#39;t&#39;, &#39;a&#39;]&quot;</span><span class="hl-1">, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">result</span><span class="hl-1"> = </span><span class="hl-6">meshArray</span><span class="hl-1">([</span><span class="hl-9">&quot;t&quot;</span><span class="hl-1">, </span><span class="hl-9">&quot;a&quot;</span><span class="hl-1">]);</span><br/><span class="hl-1">    </span><span class="hl-6">expect</span><span class="hl-1">(</span><span class="hl-7">result</span><span class="hl-1">).</span><span class="hl-7">to</span><span class="hl-1">.</span><span class="hl-6">equal</span><span class="hl-1">(</span><span class="hl-9">&quot;Error al encadenar&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">});</span><br/>
</code></pre>
<p>Estos tests comprueban que la función meshArray que recibe como argumento un array de strings words y devuelve una cadena de texto que contiene las letras que coinciden entre el final de un string y el comienzo del siguiente. Si no hay coincidencia entre dos strings consecutivos, la función devuelve &quot;Error al encadenar&quot;.</p>
<p>El primer test comprueba que si se le pasan los strings &quot;allow&quot;, &quot;lowering&quot;, &quot;ringmaster&quot; y &quot;terror&quot;, la función devuelve la cadena &quot;lowringter&quot;.
El segundo test comprueba que si se le pasan los strings &quot;kingdom&quot;, &quot;dominator&quot;, &quot;notorious&quot;, &quot;usual&quot; y &quot;allegory&quot;, la función devuelve la cadena &quot;Error al encadenar&quot;.
El tercer test comprueba que si se le pasan los strings &quot;ta&quot; y &quot;ta&quot;, la función devuelve la cadena &quot;ta&quot;.
El cuarto test comprueba que si se le pasan los strings &quot;t&quot; y &quot;a&quot;, la función devuelve la cadena &quot;Error al encadenar&quot;.</p>
</div></div>
<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
<div class="tsd-navigation settings">
<details class="tsd-index-accordion"><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg> Settings</h3></summary>
<div class="tsd-accordion-details">
<div class="tsd-filter-visibility">
<h4 class="uppercase">Member Visibility</h4><form>
<ul id="tsd-filter-options">
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div>
<div class="tsd-theme-toggle">
<h4 class="uppercase">Theme</h4><select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div>
<nav class="tsd-navigation primary">
<details class="tsd-index-accordion" open><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg> Modules</h3></summary>
<div class="tsd-accordion-details">
<ul>
<li class="current selected"><a href="modules.html">practica04</a>
<ul>
<li class="tsd-kind-module"><a href="modules/ejercicio01.html">ejercicio01</a></li>
<li class="tsd-kind-module"><a href="modules/ejercicio02.html">ejercicio02</a></li>
<li class="tsd-kind-module"><a href="modules/ejercicio03.html">ejercicio03</a></li>
<li class="tsd-kind-module"><a href="modules/ejercicio04.html">ejercicio04</a></li>
<li class="tsd-kind-module"><a href="modules/ejercicio05.html">ejercicio05</a></li>
<li class="tsd-kind-module"><a href="modules/ejercicio06.html">ejercicio06</a></li>
<li class="tsd-kind-module"><a href="modules/ejercicio07.html">ejercicio07</a></li>
<li class="tsd-kind-module"><a href="modules/ejercicio08.html">ejercicio08</a></li></ul></li></ul></div></details></nav></div></div>
<div class="container tsd-generator">
<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div>
<div class="overlay"></div><script src="assets/main.js"></script></body></html>